<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File list thumbnails</title>
    <script type="module" src="./common.js"></script>

    <script type="module">
      import '@vaadin/upload/vaadin-upload-button.js';
      import '@vaadin/upload/vaadin-upload-drop-zone.js';
      import '@vaadin/upload/vaadin-upload-file-list.js';
      import { UploadManager } from '@vaadin/upload/vaadin-upload-manager.js';

      const manager = new UploadManager({
        target: '/api/upload',
      });

      const fileList = document.querySelector('#file-list');
      fileList.manager = manager;

      const fileListNoThumbnails = document.querySelector('#file-list-no-thumbnails');
      fileListNoThumbnails.manager = manager;

      // Create a fake image File from an SVG
      const svgContent = `<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100">
        <rect fill="#4a90d9" width="100" height="100"/>
        <circle fill="#f5d76e" cx="70" cy="25" r="15"/>
        <path fill="#5d8a3e" d="M0 60 L30 40 L60 70 L100 50 L100 100 L0 100 Z"/>
        <path fill="#3d6a2e" d="M40 100 L70 55 L100 100 Z"/>
      </svg>`;
      const imageFile = new File([svgContent], 'Photo.jpg', { type: 'image/svg+xml' });
      imageFile.complete = true;

      const files = [
        { name: 'Annual Report.docx', complete: true },
        {
          name: 'Workflow.pdf',
          progress: 60,
          status: '19.7 MB: 60% (remaining time: 00:12:34)',
        },
        { name: 'Financials.xlsx', errorKey: 'unexpectedServerError' },
        imageFile,
      ];

      manager.files = files;

      // Toggle thumbnails theme
      const checkbox = document.querySelector('#thumbnails-toggle');
      checkbox.addEventListener('change', (e) => {
        fileList.setAttribute('theme', e.target.checked ? 'thumbnails' : '');
      });

      const checkbox2 = document.querySelector('#thumbnails-toggle-2');
      checkbox2.addEventListener('change', (e) => {
        fileListNoThumbnails.setAttribute('theme', e.target.checked ? 'thumbnails' : '');
      });
    </script>
  </head>

  <body>
    <label>
      <input type="checkbox" id="thumbnails-toggle" checked />
      Thumbnails theme
    </label>
    <vaadin-upload-file-list id="file-list" theme="thumbnails"></vaadin-upload-file-list>

    <label>
      <input type="checkbox" id="thumbnails-toggle-2" />
      Thumbnails theme
    </label>
    <vaadin-upload-file-list id="file-list-no-thumbnails"></vaadin-upload-file-list>
  </body>
</html>
