<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Field</title>
  </head>

  <body>
    <vaadin-custom-field
      label="Phone number"
      required
      error-message="This field is required"
      helper-text="Your public phone number"
    >
      <vaadin-select style="width: 6rem" value="+358" required></vaadin-select>
      <vaadin-text-field
        prevent-invalid-input
        pattern="[0-9]*"
        maxlength="4"
        style="width: 5rem"
        required
      ></vaadin-text-field>
      <vaadin-number-field required></vaadin-number-field>
    </vaadin-custom-field>

    <script type="module">
      import '@vaadin/custom-field';
      import '@vaadin/item';
      import '@vaadin/list-box';
      import '@vaadin/number-field';
      import '@vaadin/text-field';
      import '@vaadin/select';

      const select = document.querySelector('vaadin-select');
      select.focusElement.setAttribute('aria-label', 'Country code');
      select.renderer = (root) => {
        if (root.firstChild) {
          return;
        }

        const listBox = document.createElement('vaadin-list-box');
        ['+358', '+46', '+34', '+380'].forEach((name) => {
          const item = document.createElement('vaadin-item');
          item.textContent = name;
          item.setAttribute('label', name);
          listBox.appendChild(item);
        });

        root.appendChild(listBox);
      };

      document.querySelector('vaadin-text-field').focusElement.setAttribute('aria-label', 'Area code');

      document.querySelector('vaadin-number-field').focusElement.setAttribute('aria-label', 'Number');
    </script>
  </body>
</html>
