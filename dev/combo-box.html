<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Combo Box</title>
    <script type="module" src="./common.js"></script>
  </head>
  <body>
    <vaadin-combo-box label="Theme"></vaadin-combo-box>

    <script type="module">
      import '@vaadin/combo-box';

      const THEMES = [
        { label: 'Base', value: 'base', cssPath: null },
        { label: 'Lumo', value: 'lumo', cssPath: '/packages/vaadin-lumo-styles/lumo.css' },
        { label: 'Aura', value: 'aura', cssPath: '/packages/aura/aura.css' },
      ];

      function applyTheme(themeName) {
        const theme = THEMES.find((theme) => theme.value === themeName);

        // Remove existing stylesheets
        document.querySelectorAll('link[data-theme]').forEach((link) => link.remove());

        // Add new stylesheet if needed
        if (theme.cssPath) {
          const link = document.createElement('link');
          link.rel = 'stylesheet';
          link.href = theme.cssPath;
          link.setAttribute('data-theme', themeName);
          document.head.appendChild(link);
        }
      }

      const combo = document.querySelector('vaadin-combo-box');
      combo.items = THEMES;
      combo.addEventListener('change', (e) => {
        applyTheme(e.target.value);
      });
    </script>
  </body>
</html>
