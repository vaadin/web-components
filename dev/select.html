<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Select</title>
    <script type="module" src="./common.js"></script>

    <script type="module">
      import '@vaadin/icon';
      import '@vaadin/icons';
      import '@vaadin/select';
      import '@vaadin/vaadin-lumo-styles/vaadin-iconset.js';
    </script>
  </head>
  <body>
    <section class="section">
      <h2 class="heading">Plain</h2>
      <vaadin-select value="s"></vaadin-select>
      <vaadin-select placeholder="Placeholder"></vaadin-select>
    </section>

    <section class="section">
      <h2 class="heading">Bells & Whistles</h2>
      <vaadin-select
        label="Label"
        helper-text="Description for this field."
        value="s"
        error-message="You need to write something in this field."
        required
      >
        <vaadin-icon icon="vaadin:search" slot="prefix"></vaadin-icon>
      </vaadin-select>
    </section>

    <section>
      <h2 class="heading">Custom renderer</h2>
      <vaadin-select id="custom" value="s"></vaadin-select>
    </section>

    <section class="section">
      <h2 class="heading">Item Label Generator</h2>
      <vaadin-select id="label-generator" label="Select user" value="2"></vaadin-select>
    </section>

    <section class="section">
      <h2 class="heading">States</h2>
      <vaadin-select
        label="Read-only"
        helper-text="Description for this field."
        value="s"
        error-message="You need to write something in this field."
        required
        readonly
      >
        <vaadin-icon icon="vaadin:search" slot="prefix"></vaadin-icon>
      </vaadin-select>

      <vaadin-select
        label="Disabled"
        helper-text="Description for this field."
        value="s"
        error-message="You need to write something in this field."
        required
        disabled
      >
        <vaadin-icon icon="vaadin:search" slot="prefix"></vaadin-icon>
      </vaadin-select>
    </section>

    <script type="module">
      import { html, render } from 'lit';

      document.querySelectorAll('vaadin-select').forEach((select) => {
        if (select.id === 'custom') {
          select.renderer = (root) => {
            render(
              html`
                <vaadin-select-list-box>
                  <vaadin-select-item value="all">Show all</vaadin-select-item>
                  <hr />
                  <vaadin-select-item value="xs" disabled>XS (out of stock)</vaadin-select-item>
                  <vaadin-select-item value="s">S</vaadin-select-item>
                  <vaadin-select-item value="m">M</vaadin-select-item>
                  <vaadin-select-item value="l">L</vaadin-select-item>
                  <vaadin-select-item value="xl">XL</vaadin-select-item>
                </vaadin-select-list-box>
              `,
              root,
            );
          };
        } else if (select.id === 'label-generator') {
          // Example with itemLabelGenerator
          select.items = [
            { value: '1', firstName: 'John', lastName: 'Doe', role: 'Admin' },
            { value: '2', firstName: 'Jane', lastName: 'Smith', role: 'User' },
            { value: '3', firstName: 'Bob', lastName: 'Johnson', role: 'Manager' },
            { value: '4', firstName: 'Alice', lastName: 'Williams', role: 'User' },
          ];
          select.itemLabelGenerator = (item) => `${item.firstName} ${item.lastName} (${item.role})`;
        } else {
          select.items = [
            { label: 'Show all', value: 'all' },
            { component: 'hr' },
            { label: 'XS (out of stock)', value: 'xs', disabled: true },
            { label: 'S', value: 's' },
            { label: 'M', value: 'm' },
            { label: 'L', value: 'l' },
            { label: 'XL', value: 'xl' },
          ];
        }
      });
    </script>
  </body>
</html>
