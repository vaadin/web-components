<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload</title>
    <script type="module" src="./common.js"></script>

    <script type="module">
      import '@vaadin/button';
      import '@vaadin/upload';
      import '@vaadin/upload/src/vaadin-upload-drop-zone.js';
      import '@vaadin/upload/src/vaadin-upload-file-list.js';
      import { xhrCreator } from '@vaadin/upload/test/helpers.js';

      // Use a fake xhr for testing
      document.querySelector('vaadin-upload')._createXhr = xhrCreator({
        size: 512,
        uploadTime: 3000,
        stepTime: 1000,
      });
    </script>
  </head>

  <body>
    <div style="display: flex; gap: 16px; align-items: flex-start">
      <div>
        <vaadin-button id="add-button">Choose Files...</vaadin-button>
        <vaadin-upload-drop-zone
          id="drop-zone"
          style="border: 1px dashed #888; width: 200px; height: 100px; border-radius: 4px"
        >
          Drop files here
        </vaadin-upload-drop-zone>
      </div>
      <vaadin-upload-file-list id="file-list"></vaadin-upload-file-list>
    </div>
    <vaadin-upload
      headless
      target="/api/fileupload"
      add-button-id="add-button"
      drop-area-id="drop-zone"
      file-list-id="file-list"
    ></vaadin-upload>
  </body>
</html>
