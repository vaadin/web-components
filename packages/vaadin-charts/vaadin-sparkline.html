<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="v-chart.html">

<dom-module id="vaadin-sparkline">

    <template>
        <v-chart id="chart" type="line">
            <title text="null"></title>

            <chart margin="0" spacing="0" background-color="null">
            </chart>

            <exporting enabled="false"></exporting>

            <plot-options>
                <line enable-mouse-tracking="false"
                         show-in-legend="false"
                         animation="false"
                         shadow="false">
                    <marker enabled="false"></marker>
                </line>
            </plot-options>

            <x-axis line-width="0"
                       minor-grid-line-width="0"
                       minor-tick-length="0"
                       minor-tick-width="0"
                       grid-line-width="0"
                       title="null"
                       max-padding="0"
                       min-padding="0"
                       start-on-tick="false"
                       end-on-tick="false">
                <labels enabled="false"></labels>
            </x-axis>

            <y-axis line-width="0"
                       minor-grid-line-width="0"
                       minor-tick-length="0"
                       minor-tick-width="0"
                       grid-line-width="0"
                       title="null"
                       max-padding="0.1"
                       min-padding="0.1"
                       start-on-tick="false"
                       end-on-tick="false">
                <labels enabled="false"></labels>
            </y-axis>

            <data-series type="line" data="[[arrayData]]"></data-series>
        </v-chart>

    </template>


    <script>
        VaadinSparkline = Polymer({
            is: 'vaadin-sparkline',

            properties: {
                data: String,
                arrayData: {
                    type: Array,
                    computed: '_arrayFromData(data)'
                }
            },

            _arrayFromData: function (data) {
                return JSON.parse('[' + data + ']');
            }
        });


    </script>

</dom-module>
