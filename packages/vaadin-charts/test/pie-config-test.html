<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../v-chart.html">
</head>
<body>
<v-chart id="pieWithSeries" vc-type="pie">
    <vc-title>Browser market shares at a specific website, 2014</vc-title>
    <vc-tooltip vc-point-format="{series.name}: <b>{point.percentage:.1f}%</b>">
    </vc-tooltip>
    <vc-plot-options>
        <vc-pie vc-start-angle="45" vc-end-angle="180" vc-cursor="pointer">
            <vc-data-labels vc-enabled="true" vc-format="<b>{point.name}</b>: {point.percentage:.1f} %">
            </vc-data-labels>
        </vc-pie>
    </vc-plot-options>
    <v-series vc-size="80%" vc-inner-size="50%" vc-name="Browser share">
        <vc-data>["Firefox",   45.0],
            ["IE",       26.8],
            ["Chrome", 12.8],
            ["Safari",    8.5],
            ["Opera",     6.2],
            ["Others",   0.7]</vc-data>
    </v-series>
</v-chart>
<script>

    suite('<v-chart>', function () {

        test('config with series', function () {
            var chartwc = document.querySelector('#pieWithSeries');
            var conf = chartwc._chartConf;
            expect(conf.plotOptions).to.exist;
            expect(conf.plotOptions.pie).to.exist;
            expect(conf.plotOptions.pie.startAngle).to.equal(45);
            expect(conf.plotOptions.pie.endAngle).to.equal(180);
            expect(conf.plotOptions.pie.cursor).to.equal("pointer");
            expect(conf.plotOptions.pie.dataLabels).to.exist;
            expect(conf.series).to.exist;
            expect(conf.series).not.to.be.empty;
            expect(conf.series[0].data).to.exist;
            expect(conf.series[0].data).not.to.be.empty;
            expect(conf.series[0].size).to.equal("80%");
            expect(conf.series[0].name).to.equal("Browser share");
            expect(conf.series[0].innerSize).to.equal("50%");

        });


    });

</script>

</body>
</html>