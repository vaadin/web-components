/* TODO Avoid styling message-input button */
vaadin-button:where(:not([slot='button'])) {
  transition: scale 180ms;
}

vaadin-button:where(:not([slot='button'], [theme~='tertiary'])) {
  --vaadin-button-border-color: var(--vaadin-border-color);
  --aura-surface-level: 6;
  /* --aura-surface-opacity: 0.3; */
  box-shadow: 0 1px 4px -1px hsla(0, 0%, 0%, 0.07);
}

/*
Increase padding, but only for buttons that don't have an icon in the default slot.
Buttons that place an icon in the default slot are assumed to be icon-only buttons.
*/
vaadin-button:not(:has(vaadin-icon:not([slot])), [slot='button']) {
  --vaadin-button-padding: var(--vaadin-padding-xs) var(--vaadin-padding-m);
}

vaadin-button:not([theme~='primary'], [theme~='tertiary']) {
  --vaadin-button-background: var(--aura-surface) padding-box;
}

vaadin-button[theme~='primary'] {
  --vaadin-button-font-weight: var(--aura-font-weight-strong);
}

vaadin-button {
  position: relative;
}

vaadin-button:not([slot='button'], [readonly], [disabled])::before {
  content: '';
  position: absolute;
  inset: calc(var(--vaadin-button-border-width, 1px) * -1);
  pointer-events: none;
  border-radius: inherit;
  background-color: currentColor;
  opacity: 0;
  transition:
    opacity 100ms,
    background-color 100ms;
}

@supports (color: hsl(0 0 0)) {
  vaadin-button:not([slot='button'], [readonly], [disabled])::before {
    background-color: oklch(from currentColor calc(l + 0.4) calc(c) h);
  }
}

@media (any-hover: hover) {
  vaadin-button:hover:not([readonly], [disabled], :active)::before {
    opacity: 0.05;
  }

  vaadin-button[theme~='primary']:hover:not([readonly], [disabled], :active)::before {
    opacity: 0.12;
  }
}

@media (min-resolution: 2x) {
  vaadin-button[active]:not([slot='button'], [disabled], [aria-disabled='true']) {
    scale: 0.98;
    transition-duration: 50ms;
  }
}

vaadin-button[active]:not([slot='button'], [readonly], [disabled])::before {
  opacity: 0.1;
  background: #000;
}
