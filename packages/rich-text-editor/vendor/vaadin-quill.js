/*!
 * Quill Editor v1.3.6
 * http://quilljs.com
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
!function(t,e){t.Quill=e()}(window,(()=>(()=>{var t={423:()=>{let t=document.createElement("div");if(t.classList.toggle("test-class",!1),t.classList.contains("test-class")){let t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){return arguments.length>1&&!this.contains(e)==!n?n:t.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(e=n[o],t.call(i,e,o,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},418:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},o.prototype.listeners=function(t,e){var r=n?n+t:t,i=this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,l=new Array(s);o<s;o++)l[o]=i[o].fn;return l},o.prototype.emit=function(t,e,r,i,o,s){var l=n?n+t:t;if(!this._events[l])return!1;var a,u,c=this._events[l],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,s),!0}for(u=1,a=new Array(h-1);u<h;u++)a[u-1]=arguments[u];c.fn.apply(c.context,a)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,r);break;case 4:c[u].fn.call(c[u].context,e,r,i);break;default:if(!a)for(f=1,a=new Array(h-1);f<h;f++)a[f-1]=arguments[f];c[u].fn.apply(c[u].context,a)}}return!0},o.prototype.on=function(t,e,r){var o=new i(e,r||this),s=n?n+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},o.prototype.once=function(t,e,r){var o=new i(e,r||this,!0),s=n?n+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},o.prototype.removeListener=function(t,e,i,o){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[s],this;var l=this._events[s];if(l.fn)l.fn!==e||o&&!l.once||i&&l.context!==i||(0==--this._eventsCount?this._events=new r:delete this._events[s]);else{for(var a=0,u=[],c=l.length;a<c;a++)(l[a].fn!==e||o&&!l[a].once||i&&l[a].context!==i)&&u.push(l[a]);u.length?this._events[s]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[s]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=n,o.EventEmitter=o,t.exports=o},284:t=>{var e=-1,n=1,r=0;function i(t,u,c,h){if(t===u)return t?[[r,t]]:[];if(null!=c){var f=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=t.length,s=e.length;if(0===r.length&&(null===i||0===i.length)){var l=r.index,a=t.slice(0,l),u=t.slice(l),c=i?i.index:null,h=l+s-o;if((null===c||c===h)&&!(h<0||h>s)){var f=e.slice(0,h);if((m=e.slice(h))===u){var p=Math.min(l,h);if((v=a.slice(0,p))===(_=f.slice(0,p)))return d(v,a.slice(p),f.slice(p),u)}}if(null===c||c===l){var g=l,m=(f=e.slice(0,g),e.slice(g));if(f===a){var y=Math.min(o-g,s-g);if((b=u.slice(u.length-y))===(N=m.slice(m.length-y)))return d(a,u.slice(0,u.length-y),m.slice(0,m.length-y),b)}}}if(r.length>0&&i&&0===i.length){var v=t.slice(0,r.index),b=t.slice(r.index+r.length);if(!(s<(p=v.length)+(y=b.length))){var _=e.slice(0,p),N=e.slice(s-y);if(v===_&&b===N)return d(v,t.slice(p,o-y),e.slice(p,s-y),b)}}return null}(t,u,c);if(f)return f}var p=s(t,u),g=t.substring(0,p);p=l(t=t.substring(p),u=u.substring(p));var m=t.substring(t.length-p),y=function(t,a){var u;if(!t)return[[n,a]];if(!a)return[[e,t]];var c=t.length>a.length?t:a,h=t.length>a.length?a:t,f=c.indexOf(h);if(-1!==f)return u=[[n,c.substring(0,f)],[r,h],[n,c.substring(f+h.length)]],t.length>a.length&&(u[0][0]=u[2][0]=e),u;if(1===h.length)return[[e,t],[n,a]];var d=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function i(t,e,n){for(var r,i,o,a,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,h="";-1!==(c=e.indexOf(u,c+1));){var f=s(t.substring(n),e.substring(c)),d=l(t.substring(0,n),e.substring(0,c));h.length<d+f&&(h=e.substring(c-d,c)+e.substring(c,c+f),r=t.substring(0,n-d),i=t.substring(n+f),o=e.substring(0,c-d),a=e.substring(c+f))}return 2*h.length>=t.length?[r,i,o,a,h]:null}var o,a,u,c,h,f=i(n,r,Math.ceil(n.length/4)),d=i(n,r,Math.ceil(n.length/2));if(!f&&!d)return null;o=d?f&&f[4].length>d[4].length?f:d:f;t.length>e.length?(a=o[0],u=o[1],c=o[2],h=o[3]):(c=o[0],h=o[1],a=o[2],u=o[3]);var p=o[4];return[a,u,c,h,p]}(t,a);if(d){var p=d[0],g=d[1],m=d[2],y=d[3],v=d[4],b=i(p,m),_=i(g,y);return b.concat([[r,v]],_)}return function(t,r){for(var i=t.length,s=r.length,l=Math.ceil((i+s)/2),a=l,u=2*l,c=new Array(u),h=new Array(u),f=0;f<u;f++)c[f]=-1,h[f]=-1;c[a+1]=0,h[a+1]=0;for(var d=i-s,p=d%2!=0,g=0,m=0,y=0,v=0,b=0;b<l;b++){for(var _=-b+g;_<=b-m;_+=2){for(var N=a+_,E=(T=_===-b||_!==b&&c[N-1]<c[N+1]?c[N+1]:c[N-1]+1)-_;T<i&&E<s&&t.charAt(T)===r.charAt(E);)T++,E++;if(c[N]=T,T>i)m+=2;else if(E>s)g+=2;else if(p){if((O=a+d-_)>=0&&O<u&&-1!==h[O])if(T>=(x=i-h[O]))return o(t,r,T,E)}}for(var A=-b+y;A<=b-v;A+=2){for(var x,O=a+A,w=(x=A===-b||A!==b&&h[O-1]<h[O+1]?h[O+1]:h[O-1]+1)-A;x<i&&w<s&&t.charAt(i-x-1)===r.charAt(s-w-1);)x++,w++;if(h[O]=x,x>i)v+=2;else if(w>s)y+=2;else if(!p){if((N=a+d-A)>=0&&N<u&&-1!==c[N]){var T;E=a+(T=c[N])-N;if(T>=(x=i-x))return o(t,r,T,E)}}}}return[[e,t],[n,r]]}(t,a)}(t=t.substring(0,t.length-p),u=u.substring(0,u.length-p));return g&&y.unshift([r,g]),m&&y.push([r,m]),a(y,h),y}function o(t,e,n,r){var o=t.substring(0,n),s=e.substring(0,r),l=t.substring(n),a=e.substring(r),u=i(o,s),c=i(l,a);return u.concat(c)}function s(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return u(t.charCodeAt(i-1))&&i--,i}function l(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return c(t.charCodeAt(t.length-i))&&i--,i}function a(t,i){t.push([r,""]);for(var o,u=0,c=0,d=0,p="",g="";u<t.length;)if(u<t.length-1&&!t[u][1])t.splice(u,1);else switch(t[u][0]){case n:d++,g+=t[u][1],u++;break;case e:c++,p+=t[u][1],u++;break;case r:var m=u-d-c-1;if(i){if(m>=0&&f(t[m][1])){var y=t[m][1].slice(-1);if(t[m][1]=t[m][1].slice(0,-1),p=y+p,g=y+g,!t[m][1]){t.splice(m,1),u--;var v=m-1;t[v]&&t[v][0]===n&&(d++,g=t[v][1]+g,v--),t[v]&&t[v][0]===e&&(c++,p=t[v][1]+p,v--),m=v}}if(h(t[u][1])){y=t[u][1].charAt(0);t[u][1]=t[u][1].slice(1),p+=y,g+=y}}if(u<t.length-1&&!t[u][1]){t.splice(u,1);break}if(p.length>0||g.length>0){p.length>0&&g.length>0&&(0!==(o=s(g,p))&&(m>=0?t[m][1]+=g.substring(0,o):(t.splice(0,0,[r,g.substring(0,o)]),u++),g=g.substring(o),p=p.substring(o)),0!==(o=l(g,p))&&(t[u][1]=g.substring(g.length-o)+t[u][1],g=g.substring(0,g.length-o),p=p.substring(0,p.length-o)));var b=d+c;0===p.length&&0===g.length?(t.splice(u-b,b),u-=b):0===p.length?(t.splice(u-b,b,[n,g]),u=u-b+1):0===g.length?(t.splice(u-b,b,[e,p]),u=u-b+1):(t.splice(u-b,b,[e,p],[n,g]),u=u-b+2)}0!==u&&t[u-1][0]===r?(t[u-1][1]+=t[u][1],t.splice(u,1)):u++,d=0,c=0,p="",g=""}""===t[t.length-1][1]&&t.pop();var _=!1;for(u=1;u<t.length-1;)t[u-1][0]===r&&t[u+1][0]===r&&(t[u][1].substring(t[u][1].length-t[u-1][1].length)===t[u-1][1]?(t[u][1]=t[u-1][1]+t[u][1].substring(0,t[u][1].length-t[u-1][1].length),t[u+1][1]=t[u-1][1]+t[u+1][1],t.splice(u-1,1),_=!0):t[u][1].substring(0,t[u+1][1].length)==t[u+1][1]&&(t[u-1][1]+=t[u+1][1],t[u][1]=t[u][1].substring(t[u+1][1].length)+t[u+1][1],t.splice(u+1,1),_=!0)),u++;_&&a(t,i)}function u(t){return t>=55296&&t<=56319}function c(t){return t>=56320&&t<=57343}function h(t){return c(t.charCodeAt(0))}function f(t){return u(t.charCodeAt(t.length-1))}function d(t,i,o,s){return f(t)||h(s)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[r,t],[e,i],[n,o],[r,s]])}function p(t,e,n){return i(t,e,n,!0)}p.INSERT=n,p.DELETE=e,p.EQUAL=r,t.exports=p},739:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Boolean]",l="[object Date]",a="[object Function]",u="[object GeneratorFunction]",c="[object Map]",h="[object Number]",f="[object Object]",d="[object Promise]",p="[object RegExp]",g="[object Set]",m="[object String]",y="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",N="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",x="[object Int16Array]",O="[object Int32Array]",w="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",S="[object Uint32Array]",L=/\w*$/,j=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,q={};q[o]=q["[object Array]"]=q[b]=q[_]=q[s]=q[l]=q[N]=q[E]=q[A]=q[x]=q[O]=q[c]=q[h]=q[f]=q[p]=q[g]=q[m]=q[y]=q[w]=q[T]=q[k]=q[S]=!0,q["[object Error]"]=q[a]=q[v]=!1;var R="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,I="object"==typeof self&&self&&self.Object===Object&&self,B=R||I||Function("return this")(),D=e&&!e.nodeType&&e,P=D&&t&&!t.nodeType&&t,M=P&&P.exports===D;function U(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function F(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function K(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function $(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function W(t,e){return function(n){return t(e(n))}}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var G,Y=Array.prototype,V=Function.prototype,X=Object.prototype,Z=B["__core-js_shared__"],Q=(G=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",J=V.toString,tt=X.hasOwnProperty,et=X.toString,nt=RegExp("^"+J.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=M?B.Buffer:void 0,it=B.Symbol,ot=B.Uint8Array,st=W(Object.getPrototypeOf,Object),lt=Object.create,at=X.propertyIsEnumerable,ut=Y.splice,ct=Object.getOwnPropertySymbols,ht=rt?rt.isBuffer:void 0,ft=W(Object.keys,Object),dt=Pt(B,"DataView"),pt=Pt(B,"Map"),gt=Pt(B,"Promise"),mt=Pt(B,"Set"),yt=Pt(B,"WeakMap"),vt=Pt(Object,"create"),bt=Kt(dt),_t=Kt(pt),Nt=Kt(gt),Et=Kt(mt),At=Kt(yt),xt=it?it.prototype:void 0,Ot=xt?xt.valueOf:void 0;function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){this.__data__=new Tt(t)}function Lt(t,e){var n=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&tt.call(t,"callee")&&(!at.call(t,"callee")||et.call(t)==o)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var s in t)!e&&!tt.call(t,s)||i&&("length"==s||zt(s,r))||n.push(s);return n}function jt(t,e,n){var r=t[e];tt.call(t,e)&&$t(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ct(t,e){for(var n=t.length;n--;)if($t(t[n][0],e))return n;return-1}function qt(t,e,n,r,i,d,v){var j;if(r&&(j=d?r(t,i,d,v):r(t)),void 0!==j)return j;if(!Vt(t))return t;var C=Wt(t);if(C){if(j=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,j)}else{var R=Ut(t),I=R==a||R==u;if(Gt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(R==f||R==o||I&&!d){if(K(t))return d?t:{};if(j=function(t){return"function"!=typeof t.constructor||Ft(t)?{}:(e=st(t),Vt(e)?lt(e):{});var e}(I?{}:t),!e)return function(t,e){return Bt(t,Mt(t),e)}(t,function(t,e){return t&&Bt(e,Xt(e),t)}(j,t))}else{if(!q[R])return d?t:{};j=function(t,e,n,r){var i=t.constructor;switch(e){case b:return It(t);case s:case l:return new i(+t);case _:return function(t,e){var n=e?It(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case N:case E:case A:case x:case O:case w:case T:case k:case S:return function(t,e){var n=e?It(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case c:return function(t,e,n){var r=e?n($(t),!0):$(t);return F(r,U,new t.constructor)}(t,r,n);case h:case m:return new i(t);case p:return function(t){var e=new t.constructor(t.source,L.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,n){var r=e?n(H(t),!0):H(t);return F(r,z,new t.constructor)}(t,r,n);case y:return o=t,Ot?Object(Ot.call(o)):{}}var o}(t,R,qt,e)}}v||(v=new St);var B=v.get(t);if(B)return B;if(v.set(t,j),!C)var D=n?function(t){return function(t,e,n){var r=e(t);return Wt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Xt,Mt)}(t):Xt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(D||t,(function(i,o){D&&(i=t[o=i]),jt(j,o,qt(i,e,n,r,o,t,v))})),j}function Rt(t){return!(!Vt(t)||(e=t,Q&&Q in e))&&(Yt(t)||K(t)?nt:j).test(Kt(t));var e}function It(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function Bt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],l=r?r(n[s],t[s],s,n,t):void 0;jt(n,s,void 0===l?t[s]:l)}return n}function Dt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Pt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(n)?n:void 0}wt.prototype.clear=function(){this.__data__=vt?vt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:tt.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?r:e,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0)&&(n==e.length-1?e.pop():ut.call(e,n,1),!0)},Tt.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},Tt.prototype.has=function(t){return Ct(this.__data__,t)>-1},Tt.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new wt,map:new(pt||Tt),string:new wt}},kt.prototype.delete=function(t){return Dt(this,t).delete(t)},kt.prototype.get=function(t){return Dt(this,t).get(t)},kt.prototype.has=function(t){return Dt(this,t).has(t)},kt.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},St.prototype.clear=function(){this.__data__=new Tt},St.prototype.delete=function(t){return this.__data__.delete(t)},St.prototype.get=function(t){return this.__data__.get(t)},St.prototype.has=function(t){return this.__data__.has(t)},St.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Tt){var r=n.__data__;if(!pt||r.length<199)return r.push([t,e]),this;n=this.__data__=new kt(r)}return n.set(t,e),this};var Mt=ct?W(ct,Object):function(){return[]},Ut=function(t){return et.call(t)};function zt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function Ft(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||X)}function Kt(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $t(t,e){return t===e||t!=t&&e!=e}(dt&&Ut(new dt(new ArrayBuffer(1)))!=_||pt&&Ut(new pt)!=c||gt&&Ut(gt.resolve())!=d||mt&&Ut(new mt)!=g||yt&&Ut(new yt)!=v)&&(Ut=function(t){var e=et.call(t),n=e==f?t.constructor:void 0,r=n?Kt(n):void 0;if(r)switch(r){case bt:return _;case _t:return c;case Nt:return d;case Et:return g;case At:return v}return e});var Wt=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Yt(t)}var Gt=ht||function(){return!1};function Yt(t){var e=Vt(t)?et.call(t):"";return e==a||e==u}function Vt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Xt(t){return Ht(t)?Lt(t):function(t){if(!Ft(t))return ft(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return qt(t,!0,!0)}},216:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,l="[object Arguments]",a="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",_="[object Proxy]",N="[object RegExp]",E="[object Set]",A="[object String]",x="[object Symbol]",O="[object Undefined]",w="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",S=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[l]=j[a]=j[T]=j[c]=j[k]=j[h]=j[f]=j[d]=j[g]=j[m]=j[v]=j[N]=j[E]=j[A]=j[w]=!1;var C="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,q="object"==typeof self&&self&&self.Object===Object&&self,R=C||q||Function("return this")(),I=e&&!e.nodeType&&e,B=I&&t&&!t.nodeType&&t,D=B&&B.exports===I,P=D&&C.process,M=function(){try{return P&&P.binding&&P.binding("util")}catch(t){}}(),U=M&&M.isTypedArray;function z(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function F(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function K(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var $,W,H,G=Array.prototype,Y=Function.prototype,V=Object.prototype,X=R["__core-js_shared__"],Z=Y.toString,Q=V.hasOwnProperty,J=($=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",tt=V.toString,et=RegExp("^"+Z.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=D?R.Buffer:void 0,rt=R.Symbol,it=R.Uint8Array,ot=V.propertyIsEnumerable,st=G.splice,lt=rt?rt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ut=nt?nt.isBuffer:void 0,ct=(W=Object.keys,H=Object,function(t){return W(H(t))}),ht=Mt(R,"DataView"),ft=Mt(R,"Map"),dt=Mt(R,"Promise"),pt=Mt(R,"Set"),gt=Mt(R,"WeakMap"),mt=Mt(Object,"create"),yt=Kt(ht),vt=Kt(ft),bt=Kt(dt),_t=Kt(pt),Nt=Kt(gt),Et=rt?rt.prototype:void 0,At=Et?Et.valueOf:void 0;function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wt;++e<n;)this.add(t[e])}function kt(t){var e=this.__data__=new Ot(t);this.size=e.size}function St(t,e){var n=Ht(t),r=!n&&Wt(t),i=!n&&!r&&Gt(t),o=!n&&!r&&!i&&Qt(t),s=n||r||i||o,l=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],a=l.length;for(var u in t)!e&&!Q.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ft(u,a))||l.push(u);return l}function Lt(t,e){for(var n=t.length;n--;)if($t(t[n][0],e))return n;return-1}function jt(t){return null==t?void 0===t?O:y:lt&&lt in Object(t)?function(t){var e=Q.call(t,lt),n=t[lt];try{t[lt]=void 0;var r=!0}catch(t){}var i=tt.call(t);r&&(e?t[lt]=n:delete t[lt]);return i}(t):function(t){return tt.call(t)}(t)}function Ct(t){return Zt(t)&&jt(t)==l}function qt(t,e,n,r,s){return t===e||(null==t||null==e||!Zt(t)&&!Zt(e)?t!=t&&e!=e:function(t,e,n,r,s,u){var d=Ht(t),p=Ht(e),y=d?a:zt(t),b=p?a:zt(e),_=(y=y==l?v:y)==v,O=(b=b==l?v:b)==v,w=y==b;if(w&&Gt(t)){if(!Gt(e))return!1;d=!0,_=!1}if(w&&!_)return u||(u=new kt),d||Qt(t)?Bt(t,e,n,r,s,u):function(t,e,n,r,s,l,a){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!l(new it(t),new it(e)));case c:case h:case m:return $t(+t,+e);case f:return t.name==e.name&&t.message==e.message;case N:case A:return t==e+"";case g:var u=F;case E:var d=r&i;if(u||(u=K),t.size!=e.size&&!d)return!1;var p=a.get(t);if(p)return p==e;r|=o,a.set(t,e);var y=Bt(u(t),u(e),r,s,l,a);return a.delete(t),y;case x:if(At)return At.call(t)==At.call(e)}return!1}(t,e,y,n,r,s,u);if(!(n&i)){var S=_&&Q.call(t,"__wrapped__"),L=O&&Q.call(e,"__wrapped__");if(S||L){var j=S?t.value():t,C=L?e.value():e;return u||(u=new kt),s(j,C,n,r,u)}}if(!w)return!1;return u||(u=new kt),function(t,e,n,r,o,s){var l=n&i,a=Dt(t),u=a.length,c=Dt(e),h=c.length;if(u!=h&&!l)return!1;var f=u;for(;f--;){var d=a[f];if(!(l?d in e:Q.call(e,d)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var g=!0;s.set(t,e),s.set(e,t);var m=l;for(;++f<u;){var y=t[d=a[f]],v=e[d];if(r)var b=l?r(v,y,d,e,t,s):r(y,v,d,t,e,s);if(!(void 0===b?y===v||o(y,v,n,r,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var _=t.constructor,N=e.constructor;_==N||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof N&&N instanceof N||(g=!1)}return s.delete(t),s.delete(e),g}(t,e,n,r,s,u)}(t,e,n,r,qt,s))}function Rt(t){return!(!Xt(t)||function(t){return!!J&&J in t}(t))&&(Yt(t)?et:S).test(Kt(t))}function It(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||V,e!==r)return ct(t);var e,n,r,i=[];for(var o in Object(t))Q.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Bt(t,e,n,r,s,l){var a=n&i,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var h=l.get(t);if(h&&l.get(e))return h==e;var f=-1,d=!0,p=n&o?new Tt:void 0;for(l.set(t,e),l.set(e,t);++f<u;){var g=t[f],m=e[f];if(r)var y=a?r(m,g,f,e,t,l):r(g,m,f,t,e,l);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!z(e,(function(t,e){if(i=e,!p.has(i)&&(g===t||s(g,t,n,r,l)))return p.push(e);var i}))){d=!1;break}}else if(g!==m&&!s(g,m,n,r,l)){d=!1;break}}return l.delete(t),l.delete(e),d}function Dt(t){return function(t,e,n){var r=e(t);return Ht(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Jt,Ut)}function Pt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(n)?n:void 0}xt.prototype.clear=function(){this.__data__=mt?mt(null):{},this.size=0},xt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xt.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===r?void 0:n}return Q.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:Q.call(e,t)},xt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mt&&void 0===e?r:e,this},Ot.prototype.clear=function(){this.__data__=[],this.size=0},Ot.prototype.delete=function(t){var e=this.__data__,n=Lt(e,t);return!(n<0)&&(n==e.length-1?e.pop():st.call(e,n,1),--this.size,!0)},Ot.prototype.get=function(t){var e=this.__data__,n=Lt(e,t);return n<0?void 0:e[n][1]},Ot.prototype.has=function(t){return Lt(this.__data__,t)>-1},Ot.prototype.set=function(t,e){var n=this.__data__,r=Lt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new xt,map:new(ft||Ot),string:new xt}},wt.prototype.delete=function(t){var e=Pt(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return Pt(this,t).get(t)},wt.prototype.has=function(t){return Pt(this,t).has(t)},wt.prototype.set=function(t,e){var n=Pt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,r),this},Tt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.clear=function(){this.__data__=new Ot,this.size=0},kt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ot){var r=n.__data__;if(!ft||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wt(r)}return n.set(t,e),this.size=n.size,this};var Ut=at?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}(at(t),(function(e){return ot.call(t,e)})))}:function(){return[]},zt=jt;function Ft(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<e}function Kt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $t(t,e){return t===e||t!=t&&e!=e}(ht&&zt(new ht(new ArrayBuffer(1)))!=k||ft&&zt(new ft)!=g||dt&&zt(dt.resolve())!=b||pt&&zt(new pt)!=E||gt&&zt(new gt)!=w)&&(zt=function(t){var e=jt(t),n=e==v?t.constructor:void 0,r=n?Kt(n):"";if(r)switch(r){case yt:return k;case vt:return g;case bt:return b;case _t:return E;case Nt:return w}return e});var Wt=Ct(function(){return arguments}())?Ct:function(t){return Zt(t)&&Q.call(t,"callee")&&!ot.call(t,"callee")},Ht=Array.isArray;var Gt=ut||function(){return!1};function Yt(t){if(!Xt(t))return!1;var e=jt(t);return e==d||e==p||e==u||e==_}function Vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Xt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zt(t){return null!=t&&"object"==typeof t}var Qt=U?function(t){return function(e){return t(e)}}(U):function(t){return Zt(t)&&Vt(t.length)&&!!j[jt(t)]};function Jt(t){return null!=(e=t)&&Vt(e.length)&&!Yt(e)?St(t):It(t);var e}t.exports=function(t,e){return qt(t,e)}},124:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object AsyncFunction]",l="[object Function]",a="[object GeneratorFunction]",u="[object Null]",c="[object Object]",h="[object Proxy]",f="[object Undefined]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[l]=g["[object Map]"]=g["[object Number]"]=g[c]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var m="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),b=e&&!e.nodeType&&e,_=b&&t&&!t.nodeType&&t,N=_&&_.exports===b,E=N&&m.process,A=function(){try{var t=_&&_.require&&_.require("util").types;return t||E&&E.binding&&E.binding("util")}catch(t){}}(),x=A&&A.isTypedArray;var O,w,T,k=Array.prototype,S=Function.prototype,L=Object.prototype,j=v["__core-js_shared__"],C=S.toString,q=L.hasOwnProperty,R=(O=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",I=L.toString,B=C.call(Object),D=RegExp("^"+C.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=N?v.Buffer:void 0,M=v.Symbol,U=v.Uint8Array,z=P?P.allocUnsafe:void 0,F=(w=Object.getPrototypeOf,T=Object,function(t){return w(T(t))}),K=Object.create,$=L.propertyIsEnumerable,W=k.splice,H=M?M.toStringTag:void 0,G=function(){try{var t=bt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Y=P?P.isBuffer:void 0,V=Math.max,X=Date.now,Z=bt(v,"Map"),Q=bt(Object,"create"),J=function(){function t(){}return function(e){if(!jt(e))return{};if(K)return K(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rt(t){var e=this.__data__=new et(t);this.size=e.size}function it(t,e){var n=wt(t),r=!n&&Ot(t),i=!n&&!r&&kt(t),o=!n&&!r&&!i&&qt(t),s=n||r||i||o,l=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],a=l.length;for(var u in t)!e&&!q.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_t(u,a))||l.push(u);return l}function ot(t,e,n){(void 0!==n&&!xt(t[e],n)||void 0===n&&!(e in t))&&at(t,e,n)}function st(t,e,n){var r=t[e];q.call(t,e)&&xt(r,n)&&(void 0!==n||e in t)||at(t,e,n)}function lt(t,e){for(var n=t.length;n--;)if(xt(t[n][0],e))return n;return-1}function at(t,e,n){"__proto__"==e&&G?G(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}tt.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},tt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},tt.prototype.get=function(t){var e=this.__data__;if(Q){var n=e[t];return n===r?void 0:n}return q.call(e,t)?e[t]:void 0},tt.prototype.has=function(t){var e=this.__data__;return Q?void 0!==e[t]:q.call(e,t)},tt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q&&void 0===e?r:e,this},et.prototype.clear=function(){this.__data__=[],this.size=0},et.prototype.delete=function(t){var e=this.__data__,n=lt(e,t);return!(n<0)&&(n==e.length-1?e.pop():W.call(e,n,1),--this.size,!0)},et.prototype.get=function(t){var e=this.__data__,n=lt(e,t);return n<0?void 0:e[n][1]},et.prototype.has=function(t){return lt(this.__data__,t)>-1},et.prototype.set=function(t,e){var n=this.__data__,r=lt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},nt.prototype.clear=function(){this.size=0,this.__data__={hash:new tt,map:new(Z||et),string:new tt}},nt.prototype.delete=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e},nt.prototype.get=function(t){return vt(this,t).get(t)},nt.prototype.has=function(t){return vt(this,t).has(t)},nt.prototype.set=function(t,e){var n=vt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},rt.prototype.clear=function(){this.__data__=new et,this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},rt.prototype.get=function(t){return this.__data__.get(t)},rt.prototype.has=function(t){return this.__data__.has(t)},rt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof et){var r=n.__data__;if(!Z||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nt(r)}return n.set(t,e),this.size=n.size,this};var ut,ct=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[ut?s:++r];if(!1===e(i[l],l,i))break}return t};function ht(t){return null==t?void 0===t?f:u:H&&H in Object(t)?function(t){var e=q.call(t,H),n=t[H];try{t[H]=void 0;var r=!0}catch(t){}var i=I.call(t);r&&(e?t[H]=n:delete t[H]);return i}(t):function(t){return I.call(t)}(t)}function ft(t){return Ct(t)&&ht(t)==o}function dt(t){return!(!jt(t)||function(t){return!!R&&R in t}(t))&&(St(t)?D:d).test(function(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function pt(t){if(!jt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Nt(t),n=[];for(var r in t)("constructor"!=r||!e&&q.call(t,r))&&n.push(r);return n}function gt(t,e,n,r,i){t!==e&&ct(e,(function(o,s){if(i||(i=new rt),jt(o))!function(t,e,n,r,i,o,s){var l=Et(t,n),a=Et(e,n),u=s.get(a);if(u)return void ot(t,n,u);var h=o?o(l,a,n+"",t,e,s):void 0,f=void 0===h;if(f){var d=wt(a),p=!d&&kt(a),g=!d&&!p&&qt(a);h=a,d||p||g?wt(l)?h=l:Ct(_=l)&&Tt(_)?h=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(l):p?(f=!1,h=function(t,e){if(e)return t.slice();var n=t.length,r=z?z(n):new t.constructor(n);return t.copy(r),r}(a,!0)):g?(f=!1,m=a,y=!0?(v=m.buffer,b=new v.constructor(v.byteLength),new U(b).set(new U(v)),b):m.buffer,h=new m.constructor(y,m.byteOffset,m.length)):h=[]:function(t){if(!Ct(t)||ht(t)!=c)return!1;var e=F(t);if(null===e)return!0;var n=q.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&C.call(n)==B}(a)||Ot(a)?(h=l,Ot(l)?h=function(t){return function(t,e,n,r){var i=!n;n||(n={});var o=-1,s=e.length;for(;++o<s;){var l=e[o],a=r?r(n[l],t[l],l,n,t):void 0;void 0===a&&(a=t[l]),i?at(n,l,a):st(n,l,a)}return n}(t,Rt(t))}(l):jt(l)&&!St(l)||(h=function(t){return"function"!=typeof t.constructor||Nt(t)?{}:J(F(t))}(a))):f=!1}var m,y,v,b;var _;f&&(s.set(a,h),i(h,a,r,o,s),s.delete(a));ot(t,n,h)}(t,e,s,n,gt,r,i);else{var l=r?r(Et(t,s),o,s+"",t,e,i):void 0;void 0===l&&(l=o),ot(t,s,l)}}),Rt)}function mt(t,e){return At(function(t,e,n){return e=V(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=V(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,l)}}(t,e,Dt),t+"")}var yt=G?function(t,e){return G(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Dt;function vt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function bt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(n)?n:void 0}function _t(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&p.test(t))&&t>-1&&t%1==0&&t<e}function Nt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||L)}function Et(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var At=function(t){var e=0,n=0;return function(){var r=X(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(yt);function xt(t,e){return t===e||t!=t&&e!=e}var Ot=ft(function(){return arguments}())?ft:function(t){return Ct(t)&&q.call(t,"callee")&&!$.call(t,"callee")},wt=Array.isArray;function Tt(t){return null!=t&&Lt(t.length)&&!St(t)}var kt=Y||function(){return!1};function St(t){if(!jt(t))return!1;var e=ht(t);return e==l||e==a||e==s||e==h}function Lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function jt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ct(t){return null!=t&&"object"==typeof t}var qt=x?function(t){return function(e){return t(e)}}(x):function(t){return Ct(t)&&Lt(t.length)&&!!g[ht(t)]};function Rt(t){return Tt(t)?it(t,!0):pt(t)}var It,Bt=(It=function(t,e,n){gt(t,e,n)},mt((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=It.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!jt(n))return!1;var r=typeof e;return!!("number"==r?Tt(n)&&_t(e,n.length):"string"==r&&e in n)&&xt(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var s=e[n];s&&It(t,s,n,i)}return t})));function Dt(t){return t}t.exports=Bt},538:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return i(e,t),e}(Error);e.ParchmentError=o;var s,l={},a={},u={},c={};function h(t,e){var n;if(void 0===e&&(e=s.ANY),"string"==typeof t)n=c[t]||l[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof t)t&s.LEVEL&s.BLOCK?n=c.block:t&s.LEVEL&s.INLINE&&(n=c.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=a[r[i]])break;n=n||u[t.tagName]}return null==n?null:e&s.LEVEL&n.scope&&e&s.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(s=e.Scope||(e.Scope={})),e.create=function(t,e){var n=h(t);if(null==n)throw new o("Unable to create "+t+" blot");var r=n,i=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e);return new r(i,e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=h,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new o("Invalid definition");if("abstract"===r.blotName)throw new o("Cannot register abstract class");return c[r.blotName||r.attrName]=r,"string"==typeof r.keyName?l[r.keyName]=r:(null!=r.className&&(a[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(t){return t.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(t){null!=u[t]&&null!=r.className||(u[t]=r)})))),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=i},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),s=n(5),l=n(0),a=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return i(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=u(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof l.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var r=this.children.find(n),i=r[0],o=r[1];return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,o]:i instanceof e?i.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,s){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&i.push(n),n instanceof e&&(i=i.concat(n.descendants(t,r,o))),o-=s})),i},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,i){t.formatAt(e,i,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),i=r[0],o=r[1];if(i)i.insertAt(o,e,n);else{var s=null==n?l.create("text",e):l.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new l.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=l.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),i=r[0],o=r[1],s=[[this,t]];return i instanceof e?s.concat(i.path(o,n)):(null!=i&&s.push([i,o]),s)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,r,i){t=t.split(r,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],i=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),i.push.apply(i,t.removedNodes))})),i.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=l.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=l.find(t.nextSibling));var r=u(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))}))},e}(s.default);function u(t){var e=l.find(t);if(null==e)try{e=l.create(t)}catch(n){e=l.create(l.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(6),l=n(2),a=n(0),u=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new s.default(n.domNode),n}return i(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=a.query(t);n instanceof o.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var i=t.prototype.wrap.call(this,n,r);return i instanceof e&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},e}(l.default);e.default=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t;var t},e.scope=s.Scope.INLINE_BLOT,e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,i){var o=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&i)o.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var s=r.create(this.statics.scope);o.wrap(s),s.format(n,i)}},t.prototype.insertAt=function(t,e,n){var i=null==n?r.create("text",e):r.create(e,n),o=this.split(t);this.parent.insertBefore(i,o)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(8),s=n(0),l=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=i.default.keys(this.domNode),l=o.default.keys(this.domNode);e.concat(n).concat(l).forEach((function(e){var n=s.query(e,s.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){o(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(o(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(1).default);e.default=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(1).default);e.default=s},function(t,e,n){t.exports=n(10)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(3),o=n(4),s=n(12),l=n(13),a=n(14),u=n(15),c=n(16),h=n(1),f=n(7),d=n(8),p=n(6),g=n(0),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:u.default,Scroll:s.default,Block:a.default,Inline:l.default,Text:c.default,Attributor:{Attribute:h.default,Class:f.default,Style:d.default,Store:p.default}};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(t<i||e&&t===i&&(null==n.next||0!==n.next.length()))return[n,t];t-=i}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,i=this.find(t),o=i[0],s=t-i[1],l=this.iterator(o);(r=l())&&s<t+e;){var a=r.length();t>s?n(r,t-s,Math.min(e,s+a-t)):n(r,0,Math.min(a,t+e-s)),s+=a}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(0),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,l),n.attach(),n}return i(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,i){this.update(),t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)e.push(i.pop());for(var l=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[s.DATA_KEY].mutations&&(t.domNode[s.DATA_KEY].mutations=[]),e&&l(t.parent))},a=function(t){null!=t.domNode[s.DATA_KEY]&&null!=t.domNode[s.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(a),t.optimize(n))},u=e,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(t){var e=s.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(s.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=s.find(t,!1);l(e,!1),e instanceof o.default&&e.children.forEach((function(t){l(t,!1)}))}))):"attributes"===t.type&&l(e.prev)),l(e))})),this.children.forEach(a),i=(u=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)e.push(i.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=s.find(t.target,!0);return null==e?null:null==e.domNode[s.DATA_KEY].mutations?(e.domNode[s.DATA_KEY].mutations=[t],e):(e.domNode[s.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==r&&null!=t.domNode[s.DATA_KEY]&&t.update(t.domNode[s.DATA_KEY].mutations||[],n)})),null!=this.domNode[s.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="DIV",e}(o.default);e.default=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach((function(t){t instanceof o.default||(t=t.wrap(e.blotName,!0)),i.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,r,i){null!=this.formats()[r]||s.query(r,s.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof e&&i.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},e.blotName="inline",e.scope=s.Scope.INLINE_BLOT,e.tagName="SPAN",e}(o.default);e.default=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){var r=s.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=s.query(n,s.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,i){null!=s.query(r,s.Scope.BLOCK)?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=s.query(n,s.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var i=this.split(e),o=s.create(n,r);i.parent.insertBefore(o,i)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="P",e}(o.default);e.default=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,i){0===e&&n===this.length()?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(4).default);e.default=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),s=n(0),l=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return i(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=s.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=s.Scope.INLINE_BLOT,e}(o.default);e.default=l}])},t.exports=e()},204:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(739)),s=r(n(216));!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o.default(e);for(var i in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return s.default(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var n=Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n}),{});return Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0===e[r]&&(n[r]=null),n}),n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(i||(i={})),e.default=i},802:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=r(n(284)),o=r(n(739)),s=r(n(216)),l=r(n(204)),a=r(n(933)),u=String.fromCharCode(0),c=function(){function t(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}return t.prototype.insert=function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o.default(t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(s.default(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.default.length(e):e.delete?t-e.delete:t}),0)},t.prototype.length=function(){return this.reduce((function(t,e){return t+a.default.length(e)}),0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var r=[],i=a.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=a.default.length(s)}return new t(r)},t.prototype.compose=function(e){var n=a.default.iterator(this.ops),r=a.default.iterator(e.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var u=o.retain;"insert"===n.peekType()&&n.peekLength()<=u;)u-=n.peekLength(),i.push(n.next());o.retain-u>0&&r.next(o.retain-u)}for(var c=new t(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===n.peekType())c.push(n.next());else{var h=Math.min(n.peekLength(),r.peekLength()),f=n.next(h),d=r.next(h);if("number"==typeof d.retain){var p={};"number"==typeof f.retain?p.retain=h:p.insert=f.insert;var g=l.default.compose(f.attributes,d.attributes,"number"==typeof f.retain);if(g&&(p.attributes=g),c.push(p),!r.hasNext()&&s.default(c.ops[c.ops.length-1],p)){var m=new t(n.rest());return c.concat(m).chop()}}else"number"==typeof d.delete&&"number"==typeof f.retain&&c.push(d)}return c.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:u;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new t,c=i.default(r[0],r[1],n),h=a.default.iterator(this.ops),f=a.default.iterator(e.ops);return c.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.default.INSERT:n=Math.min(f.peekLength(),e),o.push(f.next(n));break;case i.default.DELETE:n=Math.min(e,h.peekLength()),h.next(n),o.delete(n);break;case i.default.EQUAL:n=Math.min(h.peekLength(),f.peekLength(),e);var r=h.next(n),a=f.next(n);s.default(r.insert,a.insert)?o.retain(n,l.default.diff(r.attributes,a.attributes)):o.push(a).delete(n)}e-=n}})),o.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var r=a.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),l=a.default.length(s)-r.peekLength(),u="string"==typeof s.insert?s.insert.indexOf(n,l)-l:-1;if(u<0)i.push(r.next());else if(u>0)i.push(r.next(u));else{if(!1===e(i,r.next(1).attributes||{},o))return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce((function(t,r){if(r.insert)n.delete(a.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),t+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return e.slice(t,t+i).forEach((function(t){r.delete?n.push(t):r.retain&&r.attributes&&n.retain(a.default.length(t),l.default.invert(r.attributes,t.attributes))})),t+i}}return t}),0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var r=e,i=a.default.iterator(this.ops),o=a.default.iterator(r.ops),s=new t;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())s.push(o.next());else{var u=Math.min(i.peekLength(),o.peekLength()),c=i.next(u),h=o.next(u);if(c.delete)continue;h.delete?s.push(h):s.retain(u,l.default.transform(c.attributes,h.attributes,n))}else s.retain(a.default.length(i.next()));return s.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=a.default.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.Op=a.default,t.AttributeMap=l.default,t}();t.exports=c},908:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(933)),o=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.default.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t}();e.default=o},933:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(908));!function(t){t.iterator=function(t){return new o.default(t)},t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}}(i||(i={})),e.default=i}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";n.d(r,{default:()=>Ie});var t=n(538),e=n.n(t),i=(n(423),n(124)),o=n.n(i),s=n(802),l=n.n(s),a=n(739),u=n.n(a),c=n(216),h=n.n(c);class f extends e().Embed{static value(){}insertInto(t,e){0===t.children.length?super.insertInto(t,e):this.remove()}length(){return 0}value(){return""}}f.blotName="break",f.tagName="BR";const d=f;class p extends e().Text{}const g=p;class m extends e().Inline{static compare(t,e){let n=m.order.indexOf(t),r=m.order.indexOf(e);return n>=0||r>=0?n-r:t===e?0:t<e?-1:1}formatAt(t,n,r,i){if(m.compare(this.statics.blotName,r)<0&&e().query(r,e().Scope.BLOT)){let e=this.isolate(t,n);i&&e.wrap(r,i)}else super.formatAt(t,n,r,i)}optimize(t){if(super.optimize(t),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){let t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}m.allowedChildren=[m,e().Embed,g],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"];const y=m;class v extends e().Embed{attach(){super.attach(),this.attributes=new(e().Attributor.Store)(this.domNode)}delta(){return(new(l())).insert(this.value(),o()(this.formats(),this.attributes.values()))}format(t,n){let r=e().query(t,e().Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,n)}formatAt(t,e,n,r){this.format(n,r)}insertAt(t,n,r){if("string"==typeof n&&n.endsWith("\n")){let r=e().create(b.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,n.slice(0,-1))}else super.insertAt(t,n,r)}}v.scope=e().Scope.BLOCK_BLOT;class b extends e().Block{constructor(t){super(t),this.cache={}}delta(){return null==this.cache.delta&&(this.cache.delta=this.descendants(e().Leaf).reduce(((t,e)=>0===e.length()?t:t.insert(e.value(),_(e))),new(l())).insert("\n",_(this))),this.cache.delta}deleteAt(t,e){super.deleteAt(t,e),this.cache={}}formatAt(t,n,r,i){n<=0||(e().query(r,e().Scope.BLOCK)?t+n===this.length()&&this.format(r,i):super.formatAt(t,Math.min(n,this.length()-t-1),r,i),this.cache={})}insertAt(t,e,n){if(null!=n)return super.insertAt(t,e,n);if(0===e.length)return;let r=e.split("\n"),i=r.shift();i.length>0&&(t<this.length()-1||null==this.children.tail?super.insertAt(Math.min(t,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let o=this;r.reduce((function(t,e){return o=o.split(t,!0),o.insertAt(0,e),e.length}),t+i.length)}insertBefore(t,e){let n=this.children.head;super.insertBefore(t,e),n instanceof d&&n.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(t,e){super.moveChildren(t,e),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){let e=this.clone();return 0===t?(this.parent.insertBefore(e,this),this):(this.parent.insertBefore(e,this.next),e)}{let n=super.split(t,e);return this.cache={},n}}}function _(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=o()(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:_(t.parent,e))}b.blotName="block",b.tagName="P",b.defaultChild="break",b.allowedChildren=[y,e().Embed,g];class N extends y{}N.blotName="code",N.tagName="CODE";class E extends b{static create(t){let e=super.create(t);return e.setAttribute("spellcheck",!1),e}static formats(){return!0}delta(){let t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(((t,e)=>t.insert(e).insert("\n",this.formats())),new(l()))}format(t,e){if(t===this.statics.blotName&&e)return;let[n]=this.descendant(g,this.length()-1);null!=n&&n.deleteAt(n.length()-1,1),super.format(t,e)}formatAt(t,n,r,i){if(0===n)return;if(null==e().query(r,e().Scope.BLOCK)||r===this.statics.blotName&&i===this.statics.formats(this.domNode))return;let o=this.newlineIndex(t);if(o<0||o>=t+n)return;let s=this.newlineIndex(t,!0)+1,l=o-s+1,a=this.isolate(s,l),u=a.next;a.format(r,i),u instanceof E&&u.formatAt(0,t-s+n-l,r,i)}insertAt(t,e,n){if(null!=n)return;let[r,i]=this.descendant(g,t);r.insertAt(i,e)}length(){let t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}newlineIndex(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");{let e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}}optimize(t){this.domNode.textContent.endsWith("\n")||this.appendChild(e().create("text","\n")),super.optimize(t);let n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}replace(t){super.replace(t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){let n=e().find(t);null==n?t.parentNode.removeChild(t):n instanceof e().Embed?n.remove():n.unwrap()}))}}E.blotName="code-block",E.tagName="PRE",E.TAB="  ";class A extends e().Embed{static value(){}constructor(t,e){super(t),this.selection=e,this.textNode=document.createTextNode(A.CONTENTS),this.domNode.appendChild(this.textNode),this._length=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(t,n){if(0!==this._length)return super.format(t,n);let r=this,i=0;for(;null!=r&&r.statics.scope!==e().Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=A.CONTENTS.length,r.optimize(),r.formatAt(i,A.CONTENTS.length,t,n),this._length=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this._length}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return;let t,n,r,i=this.textNode,o=this.selection.getNativeRange();for(null!=o&&o.start.node===i&&o.end.node===i&&([t,n,r]=[i,o.start.offset,o.end.offset]);null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==A.CONTENTS){let n=this.textNode.data.split(A.CONTENTS).join("");this.next instanceof g?(t=this.next.domNode,this.next.insertAt(0,n),this.textNode.data=A.CONTENTS):(this.textNode.data=n,this.parent.insertBefore(e().create(this.textNode),this),this.textNode=document.createTextNode(A.CONTENTS),this.domNode.appendChild(this.textNode))}return this.remove(),null!=n?([n,r]=[n,r].map((function(e){return Math.max(0,Math.min(t.data.length,e-1))})),{startNode:t,startOffset:n,endNode:t,endOffset:r}):void 0}update(t,e){if(t.some((t=>"characterData"===t.type&&t.target===this.textNode))){let t=this.restore();t&&(e.range=t)}}value(){return""}}A.blotName="cursor",A.className="ql-cursor",A.tagName="span",A.CONTENTS="\ufeff";const x=A,O=/^[ -~]*$/;function w(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}const T=class{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){let n=!1;this.scroll.update();let r=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){let n=u()(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=u()(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){let n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new(l()))}(t)).reduce(((t,i)=>{let l=i.retain||i.delete||i.insert.length||1,a=i.attributes||{};if(null!=i.insert){if("string"==typeof i.insert){let l=i.insert;l.endsWith("\n")&&n&&(n=!1,l=l.slice(0,-1)),t>=r&&!l.endsWith("\n")&&(n=!0),this.scroll.insertAt(t,l);let[u,c]=this.scroll.line(t),h=o()({},_(u));if(u instanceof b){let[t]=u.descendant(e().Leaf,c);h=o()(h,_(t))}a=s.AttributeMap.diff(h,a)||{}}else if("object"==typeof i.insert){let e=Object.keys(i.insert)[0];if(null==e)return t;this.scroll.insertAt(t,e,i.insert[e])}r+=l}return Object.keys(a).forEach((e=>{this.scroll.formatAt(t,l,e,a[e])})),t+l}),0),t.reduce(((t,e)=>"number"==typeof e.delete?(this.scroll.deleteAt(t,e.delete),t):t+(e.retain||e.insert.length||1)),0),this.scroll.batchEnd(),this.update(t)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update((new(l())).retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((r=>{if(null!=this.scroll.whitelist&&!this.scroll.whitelist[r])return;let i=this.scroll.lines(t,Math.max(e,1)),o=e;i.forEach((e=>{let i=e.length();if(e instanceof E){let i=t-e.offset(this.scroll),s=e.newlineIndex(i+o)-i+1;e.formatAt(i,s,r,n[r])}else e.format(r,n[r]);o-=i}))})),this.scroll.optimize(),this.update((new(l())).retain(t).retain(e,u()(n)))}formatText(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((r=>{this.scroll.formatAt(t,e,r,n[r])})),this.update((new(l())).retain(t).retain(e,u()(n)))}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce(((t,e)=>t.concat(e.delta())),new(l()))}getFormat(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],i=[];0===n?this.scroll.path(t).forEach((function(t){let[n]=t;n instanceof b?r.push(n):n instanceof e().Leaf&&i.push(n)})):(r=this.scroll.lines(t,n),i=this.scroll.descendants(e().Leaf,t,n));const[o,s]=[r,i].map((function(t){if(0===t.length)return{};let e=_(t.shift());for(;Object.keys(e).length>0;){let n=t.shift();if(null==n)return e;e=w(_(n),e)}return e}));return{...o,...s}}getText(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new(l())).retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(n).forEach((r=>{this.scroll.formatAt(t,e.length,r,n[r])})),this.update((new(l())).retain(t).insert(e,u()(n)))}isBlank(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;let t=this.scroll.children.head;return t.statics.blotName===b.blotName&&(!(t.children.length>1)&&t.children.head instanceof d)}removeFormat(t,e){let n=this.getText(t,e),[r,i]=this.scroll.line(t+e),o=0,s=new(l());null!=r&&(o=r instanceof E?r.newlineIndex(i)-i+1:r.length()-i,s=r.delta().slice(i,i+o-1).insert("\n"));let a=this.getContents(t,e+o).diff((new(l())).insert(n).concat(s)),u=(new(l())).retain(t).concat(a);return this.applyDelta(u)}update(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===n.length&&"characterData"===n[0].type&&n[0].target.data.match(O)&&e().find(n[0].target)){let o=e().find(n[0].target),s=_(o),a=o.offset(this.scroll),u=n[0].oldValue.replace(x.CONTENTS,""),c=(new(l())).insert(u),h=(new(l())).insert(o.value());t=(new(l())).retain(a).concat(c.diff(h,r)).reduce((function(t,e){return e.insert?t.insert(e.insert,s):t.push(e)}),new(l())),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&h()(i.compose(t),this.delta)||(t=i.diff(this.delta,r));return t}};var k=n(418),S=n.n(k);let L=["error","warn","log","info"],j="warn";function C(t){if(L.indexOf(t)<=L.indexOf(j)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function q(t){return L.reduce((function(e,n){return e[n]=C.bind(console,n,t),e}),{})}C.level=q.level=function(t){j=t};const R=q,I=R("quill:events"),B=[],D="getRootNode"in document;["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];B.forEach((t=>{t.handleDOM(...e)}))}))}));class P extends(S()){constructor(){super(),this.listeners={},this.on("error",I.error)}emit(){I.log.apply(I,arguments),super.emit.apply(this,arguments)}connect(){B.push(this)}disconnect(){B.splice(B.indexOf(this),1)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=t.composedPath?t.composedPath()[0]:t.target;(this.listeners[t.type]||[]).forEach((function(e){let{node:r,handler:o}=e;(i===r||((t,e)=>{if(!D||e.getRootNode()===document)return t.contains(e);for(;!t.contains(e);){const t=e.getRootNode();if(!t||!t.host)return!1;e=t.host}return!0})(r,i))&&o(t,...n)}))}listenDOM(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}P.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},P.sources={API:"api",SILENT:"silent",USER:"user"};const M=P;class U{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=t,this.options=e}}U.DEFAULTS={};const z=U,F="function"==typeof window.ShadowRoot.prototype.getSelection,K=window.InputEvent&&"function"==typeof window.InputEvent.prototype.getTargetRanges,$=window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,W=!(!window.navigator.userAgent.match(/Trident/)||window.navigator.userAgent.match(/MSIE/)),H=window.navigator.userAgent.match(/Edge/);let G=!1;class Y{constructor(){this._ranges=[]}get rangeCount(){return this._ranges.length}getRangeAt(t){return this._ranges[t]}addRange(t){if(this._ranges.push(t),!G){let e=window.getSelection();e.removeAllRanges(),e.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset)}}removeAllRanges(){this._ranges=[]}}if(($||W||H)&&!F&&(window.ShadowRoot.prototype.getSelection=function(){return document.getSelection()}),!$&&!F&&K){let t=new Y;window.ShadowRoot.prototype.getSelection=function(){return t},window.addEventListener("selectionchange",(()=>{if(!G){G=!0;const e=function(){let t=document.activeElement;for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}();e&&"true"===e.getAttribute("contenteditable")?document.execCommand("indent"):t.removeAllRanges(),G=!1}}),!0),window.addEventListener("beforeinput",(e=>{if(G){const n=e.getTargetRanges()[0],r=new Range;r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),t.removeAllRanges(),t.addRange(r),e.preventDefault(),e.stopImmediatePropagation()}}),!0),window.addEventListener("selectstart",(()=>{t.removeAllRanges()}),!0)}const V=R("quill:selection");class X{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=t,this.length=e}}class Z{constructor(t,n){this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.rootDocument=this.root.getRootNode?this.root.getRootNode():document,this.cursor=e().create("cursor",this),this.lastRange=this.savedRange=new X(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,M.sources.USER),1)})),this.emitter.on(M.events.SCROLL_BEFORE_UPDATE,((t,e)=>{if(!this.hasFocus())return;const n=this.getNativeRange();if(null==n)return;const r=0===n.start.offset&&n.start.offset===n.end.offset&&this.rootDocument.getSelection()instanceof Y&&e.some((t=>"characterData"===t.type&&""===t.oldValue))?1:0;n.start.node!==this.cursor.textNode&&this.emitter.once(M.events.SCROLL_UPDATE,(()=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset+r,n.end.node,n.end.offset+r),this.update(M.sources.SILENT)}catch(t){}}))})),this.emitter.on(M.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:n,endNode:r,endOffset:i}=e.range;this.setNativeRange(t,n,r,i)}})),this.update(M.sources.SILENT)}handleComposition(){this.root.addEventListener("compositionstart",(()=>{this.composing=!0})),this.root.addEventListener("compositionend",(()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(M.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}format(t,n){if(null!=this.scroll.whitelist&&!this.scroll.whitelist[t])return;this.scroll.update();let r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!e().query(t,e().Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){let t=e().find(r.start.node,!1);if(null==t)return;if(t instanceof e().Leaf){let e=t.split(r.start.offset);t.parent.insertBefore(this.cursor,e)}else t.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let r,[i,o]=this.scroll.leaf(t);if(null==i)return null;[r,o]=i.position(o,!0);let s=document.createRange();if(e>0)return s.setStart(r,o),[i,o]=this.scroll.leaf(t+e),null==i?null:([r,o]=i.position(o,!0),s.setEnd(r,o),s.getBoundingClientRect());{let t,e="left";return r instanceof Text?(o<r.data.length?(s.setStart(r,o),s.setEnd(r,o+1)):(s.setStart(r,o-1),s.setEnd(r,o),e="right"),t=s.getBoundingClientRect()):(t=i.domNode.getBoundingClientRect(),o>0&&(e="right")),{bottom:t.top+t.height,height:t.height,left:t[e],right:t[e],top:t.top,width:0}}}getNativeRange(){const t=this.rootDocument.getSelection();if(null==t||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(null==e)return null;let n=this.normalizeNative(e);return V.info("getNativeRange",n),n}getRange(){let t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return this.rootDocument.activeElement===this.root}normalizedToRange(t){let n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);let r=n.map((t=>{let[n,r]=t,i=e().find(n,!0),o=i.offset(this.scroll);return 0===r?o:i instanceof e().Container?o+i.length():o+i.index(n,r)})),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new X(o,i-o)}normalizeNative(t){if(!Q(this.root,t.startContainer)||!t.collapsed&&!Q(this.root,t.endContainer))return null;let e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){let e=t.node,n=t.offset;for(;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}rangeToNative(t){let e=t.collapsed?[t.index]:[t.index,t.index+t.length],n=[],r=this.scroll.length();return e.forEach(((t,e)=>{t=Math.min(r-1,t);let i,[o,s]=this.scroll.leaf(t);[i,s]=o.position(s,0!==e),n.push(i,s)})),n.length<2&&(n=n.concat(n)),n}scrollIntoView(t){let e=this.lastRange;if(null==e)return;let n=this.getBounds(e.index,e.length);if(null==n)return;let r=this.scroll.length()-1,[i]=this.scroll.line(Math.min(e.index,r)),o=i;if(e.length>0&&([o]=this.scroll.line(Math.min(e.index+e.length,r))),null==i||null==o)return;let s=t.getBoundingClientRect();n.top<s.top?t.scrollTop-=s.top-n.top:n.bottom>s.bottom&&(t.scrollTop+=n.bottom-s.bottom)}setNativeRange(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(V.info("setNativeRange",t,e,n,r),null!=t&&(null==this.root.parentNode||null==t.parentNode||null==n.parentNode))return;const o=this.rootDocument.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();let s=(this.getNativeRange()||{}).native;if(null==s||i||t!==s.startContainer||e!==s.startOffset||n!==s.endContainer||r!==s.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);let i=document.createRange();i.setStart(t,e),i.setEnd(n,r),o.removeAllRanges(),o.addRange(i)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}setRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.sources.API;if("string"==typeof e&&(n=e,e=!1),V.info("setRange",t),null!=t){let n=this.rangeToNative(t);this.setNativeRange(...n,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.sources.USER,e=this.lastRange,[n,r]=this.getRange();if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!h()(e,this.lastRange)){!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode&&this.cursor.restore();let n=[M.events.SELECTION_CHANGE,u()(this.lastRange),u()(e),t];this.emitter.emit(M.events.EDITOR_CHANGE,...n),t!==M.sources.SILENT&&this.emitter.emit(...n)}}}function Q(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}class J{constructor(t,e){this.quill=t,this.options=e,this.modules={}}init(){Object.keys(this.options.modules).forEach((t=>{null==this.modules[t]&&this.addModule(t)}))}addModule(t){let e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}J.DEFAULTS={modules:{}},J.themes={default:J};const tt=J;let et=R("quill");class nt{static debug(t){!0===t&&(t="log"),R.level(t)}static find(t){return t.__quill||e().find(t)}static import(t){return null==this.imports[t]&&et.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){let e=t.attrName||t.blotName;"string"==typeof e?this.register("formats/"+e,t,n):Object.keys(t).forEach((e=>{this.register(e,t[e],n)}))}else null==this.imports[t]||r||et.warn(`Overwriting ${t} with`,n),this.imports[t]=n,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==n.blotName?e().register(n):t.startsWith("modules")&&"function"==typeof n.register&&n.register()}constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(t,e){if(e=o()({container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==nt.DEFAULTS.theme){if(e.theme=nt.import(`themes/${e.theme}`),null==e.theme)throw new Error(`Invalid theme ${e.theme}. Did you register it?`)}else e.theme=tt;let n=o()({},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));let r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){let n=nt.import(`modules/${e}`);return null==n?et.error(`Cannot load ${e} module. Are you sure you registered it?`):t[e]=n.DEFAULTS||{},t}),{});null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar});return e=o()({},nt.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}(t,n),this.container=this.options.container,null==this.container)return et.error("Invalid Quill container",t);this.options.debug&&nt.debug(this.options.debug);let r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new M,this.scroll=e().create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new T(this.scroll),this.selection=new Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(M.events.EDITOR_CHANGE,(t=>{t===M.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(M.events.SCROLL_UPDATE,((t,e)=>{let n=this.selection.lastRange,r=n&&0===n.length?n.index:void 0;rt.call(this,(()=>this.editor.update(null,e,r)),t)}));let i=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">${r}<p><br></p></div>`);this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}addContainer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){let e=t;(t=document.createElement("div")).classList.add(e)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=it(t,e,n),rt.call(this,(()=>this.editor.deleteText(t,e)),n,t,-1*e)}disable(){this.enable(!1)}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}format(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.sources.API;return rt.call(this,(()=>{let r=this.getSelection(!0),i=new(l());if(null==r)return i;if(e().query(t,e().Scope.BLOCK))i=this.editor.formatLine(r.index,r.length,{[t]:n});else{if(0===r.length)return this.selection.format(t,n),i;i=this.editor.formatText(r.index,r.length,{[t]:n})}return this.setSelection(r,M.sources.SILENT),i}),r)}formatLine(t,e,n,r,i){let o;return[t,e,o,i]=it(t,e,n,r,i),rt.call(this,(()=>this.editor.formatLine(t,e,o)),i,t,0)}formatText(t,e,n,r,i){let o;return[t,e,o,i]=it(t,e,n,r,i),rt.call(this,(()=>this.editor.formatText(t,e,o)),i,t,0)}getBounds(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e="number"==typeof t?this.selection.getBounds(t,n):this.selection.getBounds(t.index,t.length);let r=this.container.getBoundingClientRect();return{bottom:e.bottom-r.top,height:e.height,left:e.left-r.left,right:e.right-r.left,top:e.top-r.top,width:e.width}}getContents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t;return[t,e]=it(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t;return[t,e]=it(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nt.sources.API;return rt.call(this,(()=>this.editor.insertEmbed(t,e,n)),r,t)}insertText(t,e,n,r,i){let o;return[t,,o,i]=it(t,0,n,r,i),rt.call(this,(()=>this.editor.insertText(t,e,o)),i,t,e.length)}isEnabled(){return!this.container.classList.contains("ql-disabled")}off(){return this.emitter.off.apply(this.emitter,arguments)}on(){return this.emitter.on.apply(this.emitter,arguments)}once(){return this.emitter.once.apply(this.emitter,arguments)}pasteHTML(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}removeFormat(t,e,n){return[t,e,,n]=it(t,e,n),rt.call(this,(()=>this.editor.removeFormat(t,e)),n,t)}scrollIntoView(){this.selection.scrollIntoView(this.scrollingContainer)}setContents(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.sources.API;return rt.call(this,(()=>{t=new(l())(t);let e=this.getLength(),n=this.editor.deleteText(0,e),r=this.editor.applyDelta(t),i=r.ops[r.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(this.editor.deleteText(this.getLength()-1,1),r.delete(1)),n.compose(r)}),e)}setSelection(t,e,n){null==t?this.selection.setRange(null,e||nt.sources.API):([t,e,,n]=it(t,e,n),this.selection.setRange(new X(t,e),n),n!==M.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer))}setText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.sources.API,n=(new(l())).insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.sources.API;return rt.call(this,(()=>(t=new(l())(t),this.editor.applyDelta(t,e))),e,!0)}}function rt(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===M.sources.USER)return new(l());let i=null==n?null:this.getSelection(),o=this.editor.delta,s=t();if(null!=i&&(!0===n&&(n=i.index),null==r?i=ot(i,s,e):0!==r&&(i=ot(i,n,r,e)),this.setSelection(i,M.sources.SILENT)),s.length()>0){let t=[M.events.TEXT_CHANGE,s,o,e];this.emitter.emit(M.events.EDITOR_CHANGE,...t),e!==M.sources.SILENT&&this.emitter.emit(...t)}return s}function it(t,e,n,r,i){let o={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=r,r=n,n=e,e=0),"object"==typeof n?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[t,e,o,i=i||M.sources.API]}function ot(t,e,n,r){if(null==t)return null;let i,o;return e instanceof l()?[i,o]=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==M.sources.USER)})):[i,o]=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===M.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),new X(i,o-i)}nt.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},nt.events=M.events,nt.sources=M.sources,nt.version="1.3.6",nt.imports={delta:l(),parchment:e(),"core/module":z,"core/theme":tt};class st extends e().Container{}st.allowedChildren=[b,v,st];const lt=st,at="\ufeff";class ut extends e().Embed{constructor(t){super(t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable",!1),[].slice.call(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)})),this.leftGuard=document.createTextNode(at),this.rightGuard=document.createTextNode(at),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let n,r,i=t.data.split(at).join("");if(t===this.leftGuard)if(this.prev instanceof g){let t=this.prev.length();this.prev.insertAt(t,i),n={startNode:this.prev.domNode,startOffset:t+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(e().create(r),this),n={startNode:r,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof g?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(e().create(r),this.next),n={startNode:r,startOffset:i.length}));return t.data=at,n}update(t,e){t.forEach((t=>{if("characterData"===t.type&&(t.target===this.leftGuard||t.target===this.rightGuard)){let n=this.restore(t.target);n&&(e.range=n)}}))}}const ct=ut;function ht(t){return t instanceof b||t instanceof v}class ft extends e().Scroll{constructor(t,e){super(t),this.emitter=e.emitter,Array.isArray(e.whitelist)&&(this.whitelist=e.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),this.optimize(),this.enable()}batchStart(){this.batch=!0}batchEnd(){this.batch=!1,this.optimize()}deleteAt(t,e){let[n,r]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),null!=i&&n!==i&&r>0){if(n instanceof v||i instanceof v)return void this.optimize();if(n instanceof E){let t=n.newlineIndex(n.length(),!0);if(t>-1&&(n=n.split(t+1),n===i))return void this.optimize()}else if(i instanceof E){let t=i.newlineIndex(0);t>-1&&i.split(t+1)}let t=i.children.head instanceof d?null:i.children.head;n.moveChildren(i,t),n.remove()}this.optimize()}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}formatAt(t,e,n,r){(null==this.whitelist||this.whitelist[n])&&(super.formatAt(t,e,n,r),this.optimize())}insertAt(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==e().query(n,e().Scope.BLOCK)){let t=e().create(this.statics.defaultChild);this.appendChild(t),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),t.insertAt(0,n,r)}else{let t=e().create(n,r);this.appendChild(t)}else super.insertAt(t,n,r);this.optimize()}}insertBefore(t,n){if(t.statics.scope===e().Scope.INLINE_BLOT){let n=e().create(this.statics.defaultChild);n.appendChild(t),t=n}super.insertBefore(t,n)}leaf(t){return this.path(t).pop()||[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(ht,t)}lines(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,r=(t,n,i)=>{let o=[],s=i;return t.children.forEachAt(n,i,(function(t,n,i){ht(t)?o.push(t):t instanceof e().Container&&(o=o.concat(r(t,n,s))),s-=i})),o};return r(this,t,n)}optimize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(super.optimize(t,e),t.length>0&&this.emitter.emit(M.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}update(t){if(!0===this.batch)return;let e=M.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(M.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(M.events.SCROLL_UPDATE,e,t)}}ft.blotName="scroll",ft.className="ql-editor",ft.tagName="DIV",ft.defaultChild="block",ft.allowedChildren=[b,v,lt];const dt=ft;let pt={scope:e().Scope.BLOCK,whitelist:["right","center","justify"]},gt=new(e().Attributor.Attribute)("align","align",pt),mt=new(e().Attributor.Class)("align","ql-align",pt),yt=new(e().Attributor.Style)("align","text-align",pt);class vt extends e().Attributor.Style{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+e.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):e}}let bt=new(e().Attributor.Class)("color","ql-color",{scope:e().Scope.INLINE}),_t=new vt("color","color",{scope:e().Scope.INLINE}),Nt=new(e().Attributor.Class)("background","ql-bg",{scope:e().Scope.INLINE}),Et=new vt("background","background-color",{scope:e().Scope.INLINE}),At={scope:e().Scope.BLOCK,whitelist:["rtl"]},xt=new(e().Attributor.Attribute)("direction","dir",At),Ot=new(e().Attributor.Class)("direction","ql-direction",At),wt=new(e().Attributor.Style)("direction","direction",At),Tt={scope:e().Scope.INLINE,whitelist:["serif","monospace"]},kt=new(e().Attributor.Class)("font","ql-font",Tt);class St extends e().Attributor.Style{value(t){return super.value(t).replace(/["']/g,"")}}let Lt=new St("font","font-family",Tt),jt=new(e().Attributor.Class)("size","ql-size",{scope:e().Scope.INLINE,whitelist:["small","large","huge"]}),Ct=new(e().Attributor.Style)("size","font-size",{scope:e().Scope.INLINE,whitelist:["10px","18px","32px"]}),qt=R("quill:clipboard");const Rt="__ql-matcher",It=[[Node.TEXT_NODE,function(t,e){let n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!Ut(t.parentNode).whiteSpace.startsWith("pre")){let e=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,e.bind(e,!0)),(null==t.previousSibling&&Ft(t.parentNode)||null!=t.previousSibling&&Ft(t.previousSibling))&&(n=n.replace(/^\s+/,e.bind(e,!1))),(null==t.nextSibling&&Ft(t.parentNode)||null!=t.nextSibling&&Ft(t.nextSibling))&&(n=n.replace(/\s+$/,e.bind(e,!1)))}return e.insert(n)}],[Node.TEXT_NODE,Wt],["br",function(t,e){zt(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,Wt],[Node.ELEMENT_NODE,function(t,n){let r=e().query(t);if(null==r)return n;if(r.prototype instanceof e().Embed){let e={},i=r.value(t);null!=i&&(e[r.blotName]=i,n=(new(l())).insert(e,r.formats(t)))}else"function"==typeof r.formats&&(n=Mt(n,r.blotName,r.formats(t)));return n}],[Node.ELEMENT_NODE,function(t,n){let r=e().Attributor.Attribute.keys(t),i=e().Attributor.Class.keys(t),o=e().Attributor.Style.keys(t),s={};r.concat(i).concat(o).forEach((n=>{let r=e().query(n,e().Scope.ATTRIBUTE);null!=r&&(s[r.attrName]=r.value(t),s[r.attrName])||(r=Bt[n],null==r||r.attrName!==n&&r.keyName!==n||(s[r.attrName]=r.value(t)||void 0),r=Dt[n],null==r||r.attrName!==n&&r.keyName!==n||(r=Dt[n],s[r.attrName]=r.value(t)||void 0))})),Object.keys(s).length>0&&(n=Mt(n,s));return n}],[Node.ELEMENT_NODE,function(t,e){let n={},r=t.style||{};r.fontStyle&&"italic"===Ut(t).fontStyle&&(n.italic=!0);r.fontWeight&&(Ut(t).fontWeight.startsWith("bold")||parseInt(Ut(t).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(e=Mt(e,n));parseFloat(r.textIndent||0)>0&&(e=(new(l())).insert("\t").concat(e));return e}],["li",function(t,n){let r=e().query(t);if(null==r||"list-item"!==r.blotName||!zt(n,"\n"))return n;let i=-1,o=t.parentNode;for(;!o.classList.contains("ql-clipboard");)"list"===(e().query(o)||{}).blotName&&(i+=1),o=o.parentNode;return i<=0?n:n.compose((new(l())).retain(n.length()-1).retain(1,{indent:i}))}],["b",$t.bind($t,"bold")],["i",$t.bind($t,"italic")],["style",function(){return new(l())}]],Bt=[gt,xt].reduce((function(t,e){return t[e.keyName]=e,t}),{}),Dt=[yt,Et,_t,wt,Lt,Ct].reduce((function(t,e){return t[e.keyName]=e,t}),{});class Pt extends z{constructor(t,e){super(t,e),this.quill.root.addEventListener("paste",this.onPaste.bind(this)),this.container=this.quill.addContainer("ql-clipboard"),this.container.setAttribute("contenteditable",!0),this.container.setAttribute("tabindex",-1),this.matchers=[],It.concat(this.options.matchers).forEach((t=>{let[e,n]=t;this.addMatcher(e,n)}))}addMatcher(t,e){this.matchers.push([t,e])}convert(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();const e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[E.blotName]){const t=this.container.innerText;return this.container.innerHTML="",(new(l())).insert(t,{[E.blotName]:e[E.blotName]})}let[n,r]=this.prepareMatching(),i=Kt(this.container,n,r);return zt(i,"\n")&&null==i.ops[i.ops.length-1].attributes&&(i=i.compose((new(l())).retain(i.length()-1).delete(1))),qt.log("convert",this.container.innerHTML,i),this.container.innerHTML="",i}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,nt.sources.SILENT);else{let r=this.convert(e);this.quill.updateContents((new(l())).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),nt.sources.SILENT)}}onPaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;let e=this.quill.getSelection(),n=(new(l())).retain(e.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(nt.sources.SILENT),setTimeout((()=>{n=n.concat(this.convert()).delete(e.length),this.quill.updateContents(n,nt.sources.USER),this.quill.setSelection(n.length()-e.length,nt.sources.SILENT),this.quill.scrollingContainer.scrollTop=r,this.quill.focus()}),1)}prepareMatching(){let t=[],e=[];return this.matchers.forEach((n=>{let[r,i]=n;switch(r){case Node.TEXT_NODE:e.push(i);break;case Node.ELEMENT_NODE:t.push(i);break;default:[].forEach.call(this.container.querySelectorAll(r),(t=>{t[Rt]=t[Rt]||[],t[Rt].push(i)}))}})),[t,e]}}function Mt(t,e,n){return"object"==typeof e?Object.keys(e).reduce((function(t,n){return Mt(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,o()({},{[e]:n},r.attributes))}),new(l()))}function Ut(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};const e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function zt(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){let e=t.ops[r];if("string"!=typeof e.insert)break;n=e.insert+n}return n.slice(-1*e.length)===e}function Ft(t){if(0===t.childNodes.length)return!1;let e=Ut(t);return["block","list-item"].indexOf(e.display)>-1}function Kt(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new(l())):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],((r,i)=>{let o=Kt(i,e,n);return i.nodeType===t.ELEMENT_NODE&&(o=e.reduce((function(t,e){return e(i,t)}),o),o=(i[Rt]||[]).reduce((function(t,e){return e(i,t)}),o)),r.concat(o)}),new(l())):new(l())}function $t(t,e,n){return Mt(n,t,!0)}function Wt(t,e){return zt(e,"\n")||(Ft(t)||e.length()>0&&t.nextSibling&&Ft(t.nextSibling))&&e.insert("\n"),e}Pt.DEFAULTS={matchers:[],matchVisual:!1};class Ht extends z{constructor(t,e){super(t,e),this.lastRecorded=0,this.ignoreChange=!1,this.clear(),this.quill.on(nt.events.EDITOR_CHANGE,((t,e,n,r)=>{t!==nt.events.TEXT_CHANGE||this.ignoreChange||(this.options.userOnly&&r!==nt.sources.USER?this.transform(e):this.record(e,n))})),this.quill.keyboard.addBinding({key:"Z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"Y",shortKey:!0},this.redo.bind(this))}change(t,n){if(0===this.stack[t].length)return;let r=this.stack[t].pop();this.stack[n].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[t],nt.sources.USER),this.ignoreChange=!1;let i=function(t){let n=t.reduce((function(t,e){return t+=e.delete||0}),0),r=t.length()-n;(function(t){let n=t.ops[t.ops.length-1];if(null==n)return!1;if(null!=n.insert)return"string"==typeof n.insert&&n.insert.endsWith("\n");if(null!=n.attributes)return Object.keys(n.attributes).some((function(t){return null!=e().query(t,e().Scope.BLOCK)}));return!1})(t)&&(r-=1);return r}(r[t]);this.quill.setSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(0===t.ops.length)return;this.stack.redo=[];let n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){let e=this.stack.undo.pop();n=n.compose(e.undo),t=e.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}redo(){this.change("redo","undo")}transform(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}undo(){this.change("undo","redo")}}Ht.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};let Gt=R("quill:keyboard");const Yt=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Vt extends z{static match(t,e){return e=re(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach((e=>{("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&this.options.bindings[e]&&this.addBinding(this.options.bindings[e])})),this.addBinding({key:Vt.keys.ENTER,shiftKey:null},te),this.addBinding({key:Vt.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:Vt.keys.BACKSPACE},{collapsed:!0},Zt),this.addBinding({key:Vt.keys.DELETE},{collapsed:!0},Qt)):(this.addBinding({key:Vt.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Zt),this.addBinding({key:Vt.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Qt)),this.addBinding({key:Vt.keys.BACKSPACE},{collapsed:!1},Jt),this.addBinding({key:Vt.keys.DELETE},{collapsed:!1},Jt),this.addBinding({key:Vt.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Zt),this.listen()}addBinding(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=re(t);if(null==r||null==r.key)return Gt.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=o()(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}listen(){this.quill.root.addEventListener("keydown",(t=>{if(t.defaultPrevented)return;let n=t.which||t.keyCode,r=(this.bindings[n]||[]).filter((function(e){return Vt.match(t,e)}));if(0===r.length)return;let i=this.quill.getSelection();if(null==i||!this.quill.hasFocus())return;let[o,s]=this.quill.getLine(i.index),[l,a]=this.quill.getLeaf(i.index),[u,c]=0===i.length?[l,a]:this.quill.getLeaf(i.index+i.length),f=l instanceof e().Text?l.value().slice(0,a):"",d=u instanceof e().Text?u.value().slice(c):"",p={collapsed:0===i.length,empty:0===i.length&&o.length()<=1,format:this.quill.getFormat(i),offset:s,prefix:f,suffix:d};r.some((t=>{if(null!=t.collapsed&&t.collapsed!==p.collapsed)return!1;if(null!=t.empty&&t.empty!==p.empty)return!1;if(null!=t.offset&&t.offset!==p.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(t){return null==p.format[t]})))return!1}else if("object"==typeof t.format&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=p.format[e]:!1===t.format[e]?null==p.format[e]:h()(t.format[e],p.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(p.prefix))&&(!(null!=t.suffix&&!t.suffix.test(p.suffix))&&!0!==t.handler.call(this,i,p))}))&&t.preventDefault()}))}}function Xt(t,n){const r=t===Vt.keys.LEFT?"prefix":"suffix";return{key:t,shiftKey:n,altKey:null,[r]:/^$/,handler:function(r){let i=r.index;t===Vt.keys.RIGHT&&(i+=r.length+1);const[o]=this.quill.getLeaf(i);return!(o instanceof e().Embed)||(t===Vt.keys.LEFT?n?this.quill.setSelection(r.index-1,r.length+1,nt.sources.USER):this.quill.setSelection(r.index-1,nt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,nt.sources.USER):this.quill.setSelection(r.index+r.length+1,nt.sources.USER),!1)}}}function Zt(t,e){if(0===t.index||this.quill.getLength()<=1)return;let[n]=this.quill.getLine(t.index),r={};if(0===e.offset){let[e]=this.quill.getLine(t.index-1);if(null!=e&&e.length()>1){let e=n.formats(),i=this.quill.getFormat(t.index-1,1);r=s.AttributeMap.diff(e,i)||{}}}let i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-i,i,nt.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index-i,i,r,nt.sources.USER),this.quill.focus()}function Qt(t,e){let n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let r={},i=0,[o]=this.quill.getLine(t.index);if(e.offset>=o.length()-1){let[e]=this.quill.getLine(t.index+1);if(e){let n=o.formats(),l=this.quill.getFormat(t.index,1);r=s.AttributeMap.diff(n,l)||{},i=e.length()}}this.quill.deleteText(t.index,n,nt.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,nt.sources.USER)}function Jt(t){let e=this.quill.getLines(t),n={};if(e.length>1){let t=e[0].formats(),r=e[e.length-1].formats();n=s.AttributeMap.diff(r,t)||{}}this.quill.deleteText(t,nt.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,nt.sources.USER),this.quill.setSelection(t.index,nt.sources.SILENT),this.quill.focus()}function te(t,n){t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);let r=Object.keys(n.format).reduce((function(t,r){return e().query(r,e().Scope.BLOCK)&&!Array.isArray(n.format[r])&&(t[r]=n.format[r]),t}),{});this.quill.insertText(t.index,"\n",r,nt.sources.USER),this.quill.setSelection(t.index+1,nt.sources.SILENT),this.quill.focus(),Object.keys(n.format).forEach((t=>{null==r[t]&&(Array.isArray(n.format[t])||"link"!==t&&this.quill.format(t,n.format[t],nt.sources.USER))}))}function ee(t){return{key:Vt.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(n){let r=e().query("code-block"),i=n.index,o=n.length,[s,l]=this.quill.scroll.descendant(r,i);if(null==s)return;let a=this.quill.getIndex(s),u=s.newlineIndex(l,!0)+1,c=s.newlineIndex(a+l+o),h=s.domNode.textContent.slice(u,c).split("\n");l=0,h.forEach(((e,n)=>{t?(s.insertAt(u+l,r.TAB),l+=r.TAB.length,0===n?i+=r.TAB.length:o+=r.TAB.length):e.startsWith(r.TAB)&&(s.deleteAt(u+l,r.TAB.length),l-=r.TAB.length,0===n?i-=r.TAB.length:o-=r.TAB.length),l+=e.length+1})),this.quill.update(nt.sources.USER),this.quill.setSelection(i,o,nt.sources.SILENT)}}}function ne(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],nt.sources.USER)}}}function re(t){if("string"==typeof t||"number"==typeof t)return re({key:t});if("object"==typeof t&&(t=u()(t,!1)),"string"==typeof t.key)if(null!=Vt.keys[t.key.toUpperCase()])t.key=Vt.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[Yt]=t.shortKey,delete t.shortKey),t}Vt.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Vt.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:Vt.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",nt.sources.USER)}},outdent:{key:Vt.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",nt.sources.USER)}},"outdent backspace":{key:Vt.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",nt.sources.USER):null!=e.format.list&&this.quill.format("list",!1,nt.sources.USER)}},"indent code-block":ee(!0),"outdent code-block":ee(!1),"remove tab":{key:Vt.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,nt.sources.USER)}},tab:{key:Vt.keys.TAB,handler:function(t){this.quill.history.cutoff();let e=(new(l())).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,nt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,nt.sources.SILENT)}},"list empty enter":{key:Vt.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,nt.sources.USER),e.format.indent&&this.quill.format("indent",!1,nt.sources.USER)}},"checklist enter":{key:Vt.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){let[e,n]=this.quill.getLine(t.index),r=o()({},e.formats(),{list:"checked"}),i=(new(l())).retain(t.index).insert("\n",r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,nt.sources.USER),this.quill.setSelection(t.index+1,nt.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Vt.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){let[n,r]=this.quill.getLine(t.index),i=(new(l())).retain(t.index).insert("\n",e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,nt.sources.USER),this.quill.setSelection(t.index+1,nt.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){let n,r=e.prefix.length,[i,o]=this.quill.getLine(t.index);if(o>r)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",nt.sources.USER),this.quill.history.cutoff();let s=(new(l())).retain(t.index-o).delete(r+1).retain(i.length()-2-o).retain(1,{list:n});this.quill.updateContents(s,nt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,nt.sources.SILENT)}},"code exit":{key:Vt.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){const[e,n]=this.quill.getLine(t.index),r=(new(l())).retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(r,nt.sources.USER)}},"embed left":Xt(Vt.keys.LEFT,!1),"embed left shift":Xt(Vt.keys.LEFT,!0),"embed right":Xt(Vt.keys.RIGHT,!1),"embed right shift":Xt(Vt.keys.RIGHT,!0)}},nt.register({"blots/block":b,"blots/block/embed":v,"blots/break":d,"blots/container":lt,"blots/cursor":x,"blots/embed":ct,"blots/inline":y,"blots/scroll":dt,"blots/text":g,"modules/clipboard":Pt,"modules/history":Ht,"modules/keyboard":Vt}),e().register(b,d,x,y,dt,g);const ie=nt;class oe extends e().Attributor.Class{add(t,e){if("+1"===e||"-1"===e){let n=this.value(t)||0;e="+1"===e?n+1:n-1}return 0===e?(this.remove(t),!0):super.add(t,e)}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e))}value(t){return parseInt(super.value(t))||void 0}}let se=new oe("indent","ql-indent",{scope:e().Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class le extends b{}le.blotName="blockquote",le.tagName="blockquote";const ae=le;class ue extends b{static formats(t){return this.tagName.indexOf(t.tagName)+1}}ue.blotName="header",ue.tagName=["H1","H2","H3","H4","H5","H6"];const ce=ue;class he extends b{static formats(t){return t.tagName===this.tagName?void 0:super.formats(t)}format(t,n){t!==fe.blotName||n?super.format(t,n):this.replaceWith(e().create(this.statics.scope))}remove(){null==this.prev&&null==this.next?this.parent.remove():super.remove()}replaceWith(t,e){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,e),this):(this.parent.unwrap(),super.replaceWith(t,e))}}he.blotName="list-item",he.tagName="LI";class fe extends lt{static create(t){let e="ordered"===t?"OL":"UL",n=super.create(e);return"checked"!==t&&"unchecked"!==t||n.setAttribute("data-checked","checked"===t),n}static formats(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}constructor(t){super(t);const n=n=>{if(n.target.parentNode!==t)return;let r=this.statics.formats(t),i=e().find(n.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")};t.addEventListener("touchstart",n),t.addEventListener("mousedown",n)}format(t,e){this.children.length>0&&this.children.tail.format(t,e)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(t,e){if(t instanceof he)super.insertBefore(t,e);else{let n=null==e?this.length():e.offset(this),r=this.split(n);r.parent.insertBefore(t,r)}}optimize(t){super.optimize(t);let e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&e.domNode.tagName===this.domNode.tagName&&e.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(e.moveChildren(this),e.remove())}replace(t){if(t.statics.blotName!==this.statics.blotName){let n=e().create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}super.replace(t)}}fe.blotName="list",fe.scope=e().Scope.BLOCK_BLOT,fe.tagName=["OL","UL"],fe.defaultChild="list-item",fe.allowedChildren=[he];class de extends y{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}de.blotName="bold",de.tagName=["STRONG","B"];const pe=de;class ge extends pe{}ge.blotName="italic",ge.tagName=["EM","I"];const me=ge;class ye extends y{static create(t){let e=super.create(t);return t=this.sanitize(t),e.setAttribute("href",t),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return ve(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){if(t!==this.statics.blotName||!e)return super.format(t,e);e=this.constructor.sanitize(e),this.domNode.setAttribute("href",e)}}function ve(t,e){let n=document.createElement("a");n.href=t;let r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}ye.blotName="link",ye.tagName="A",ye.SANITIZED_URL="about:blank",ye.PROTOCOL_WHITELIST=["http","https","mailto","tel"];class be extends y{static create(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):super.create(t)}static formats(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}be.blotName="script",be.tagName=["SUB","SUP"];const _e=be;class Ne extends y{}Ne.blotName="strike",Ne.tagName="S";const Ee=Ne;class Ae extends y{}Ae.blotName="underline",Ae.tagName="U";const xe=Ae,Oe=["alt","height","width"];class we extends e().Embed{static create(t){let e=super.create(t);return"string"==typeof t&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Oe.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return ve(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Oe.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}we.blotName="image",we.tagName="IMG";const Te=we,ke=["height","width"];class Se extends v{static create(t){let e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",!0),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return ke.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}static sanitize(t){return ye.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){ke.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}Se.blotName="video",Se.className="ql-video",Se.tagName="IFRAME";const Le=Se,je="getRootNode"in document;let Ce=R("quill:toolbar");class qe extends z{constructor(t,e){if(super(t,e),Array.isArray(this.options.container)){let e=document.createElement("div");!function(t,e){Array.isArray(e[0])||(e=[e]);e.forEach((function(e){let n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)Re(n,t);else{let e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){let r=document.createElement("select");r.classList.add("ql-"+e),n.forEach((function(t){let e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)})),t.appendChild(r)}(n,e,r):Re(n,e,r)}})),t.appendChild(n)}))}(e,this.options.container),t.container.parentNode.insertBefore(e,t.container),this.container=e}else if("string"==typeof this.options.container){const e=je?t.container.getRootNode():document;this.container=e.querySelector(this.options.container)}else this.container=this.options.container;if(!(this.container instanceof HTMLElement))return Ce.error("Container required for toolbar",this.options);this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},Object.keys(this.options.handlers).forEach((t=>{this.addHandler(t,this.options.handlers[t])})),[].forEach.call(this.container.querySelectorAll("button, select"),(t=>{this.attach(t)})),this.quill.on(nt.events.EDITOR_CHANGE,((t,e)=>{t===nt.events.SELECTION_CHANGE&&this.update(e)})),this.quill.on(nt.events.SCROLL_OPTIMIZE,(()=>{let[t]=this.quill.selection.getRange();this.update(t)}))}addHandler(t,e){this.handlers[t]=e}attach(t){let n=[].find.call(t.classList,(t=>0===t.indexOf("ql-")));if(!n)return;if(n=n.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void Ce.warn("ignoring attaching to disabled format",n,t);if(null==e().query(n))return void Ce.warn("ignoring attaching to nonexistent format",n,t)}let r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(r=>{let i;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;let e=t.options[t.selectedIndex];i=!e.hasAttribute("selected")&&(e.value||!1)}else i=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();this.quill.focus();let[o]=this.quill.selection.getRange();if(null!=this.handlers[n])this.handlers[n].call(this,i);else if(e().query(n).prototype instanceof e().Embed){if(i=prompt(`Enter ${n}`),!i)return;this.quill.updateContents((new(l())).retain(o.index).delete(o.length).insert({[n]:i}),nt.sources.USER)}else this.quill.format(n,i,nt.sources.USER);this.update(o)})),this.controls.push([n,t])}update(t){let e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){let[r,i]=n;if("SELECT"===i.tagName){let n;if(null==t)n=null;else if(null==e[r])n=i.querySelector("option[selected]");else if(!Array.isArray(e[r])){let t=e[r];"string"==typeof t&&(t=t.replace(/\"/g,'\\"')),n=i.querySelector(`option[value="${t}"]`)}null==n?(i.value="",i.selectedIndex=-1):n.selected=!0}else if(null==t)i.classList.remove("ql-active");else if(i.hasAttribute("value")){let t=e[r]===i.getAttribute("value")||null!=e[r]&&e[r].toString()===i.getAttribute("value")||null==e[r]&&!i.getAttribute("value");i.classList.toggle("ql-active",t)}else i.classList.toggle("ql-active",null!=e[r])}))}}function Re(t,e,n){let r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}qe.DEFAULTS={},qe.DEFAULTS={container:null,handlers:{clean:function(){let t=this.quill.getSelection();if(null!=t)if(0==t.length){let t=this.quill.getFormat();Object.keys(t).forEach((t=>{null!=e().query(t,e().Scope.INLINE)&&this.quill.format(t,!1)}))}else this.quill.removeFormat(t,nt.sources.USER)},direction:function(t){let e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",nt.sources.USER):t||"right"!==e||this.quill.format("align",!1,nt.sources.USER),this.quill.format("direction",t,nt.sources.USER)},indent:function(t){let e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){let e="+1"===t?1:-1;"rtl"===n.direction&&(e*=-1),this.quill.format("indent",r+e,nt.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,nt.sources.USER)},list:function(t){let e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,nt.sources.USER):this.quill.format("list","unchecked",nt.sources.USER):this.quill.format("list",t,nt.sources.USER)}}},ie.register({"attributors/attribute/direction":xt,"attributors/class/align":mt,"attributors/class/background":Nt,"attributors/class/color":bt,"attributors/class/direction":Ot,"attributors/class/font":kt,"attributors/class/size":jt,"attributors/style/align":yt,"attributors/style/background":Et,"attributors/style/color":_t,"attributors/style/direction":wt,"attributors/style/font":Lt,"attributors/style/size":Ct},!0),ie.register({"formats/align":mt,"formats/direction":Ot,"formats/indent":se,"formats/background":Et,"formats/color":_t,"formats/font":kt,"formats/size":jt,"formats/blockquote":ae,"formats/code-block":E,"formats/header":ce,"formats/list":fe,"formats/bold":pe,"formats/code":N,"formats/italic":me,"formats/link":ye,"formats/script":_e,"formats/strike":Ee,"formats/underline":xe,"formats/image":Te,"formats/video":Le,"formats/list/item":he,"modules/toolbar":qe},!0);const Ie=ie})(),r=r.default})()));
//# sourceMappingURL=vaadin-quill.js.map
