<dom-module id='element-theming'>
  <template>
    <style include='vaadin-component-demo-shared-styles'>
      :host {
        display: block;
      }
    </style>


  <h3>Theming</h3>
  The visual looks can be changed using CSS.
  <p>
      <button id='showPopup'>Show consent popup</button>
  </p>
  <vaadin-demo-snippet id='cookie-consent-demo-customizing-texts'>
    <template preserve-content>
      <style>
        div.cc-window.cc-banner {
          background: rgb(136, 212, 254);
        }

        .cc-window .cc-dismiss {
          background: rgb(255, 81, 0);
        }

        .cc-window {
          font-size: 24px;
        }

        .cc-window .cc-message {
          color: rgb(0, 0, 255);
        }

        div.cc-window .cc-message a.cc-link {
          color: rgb(255, 81, 0);
        }
      </style>
      <vaadin-cookie-consent></vaadin-cookie-consent>
    </template>
  </vaadin-demo-snippet>

  </template>
  <script>
    class ElementTheming extends DemoReadyEventEmitter(ElementDemo(Polymer.Element)) {
      static get is() {
        return 'element-theming';
      }
      connectedCallback() {
        super.connectedCallback();
        this.$.showPopup.addEventListener('click', e => {
          this.$['cookie-consent-demo-customizing-texts'].shadowRoot.querySelector('vaadin-cookie-consent')._show();
        });
        const styles = this.$['cookie-consent-demo-customizing-texts'].shadowRoot.querySelectorAll('style');
        const css = styles[styles.length - 1].innerText;
        this.styleTag = document.createElement('style');
        this.styleTag.innerText = css;
        document.head.appendChild(this.styleTag);
      }
      disconnectedCallback() {
        super.disconnectedCallback();
        if (this.styleTag) {
          this.styleTag.parentElement.removeChild(this.styleTag);
          this.styleTag = undefined;
        }
      }
    }
    customElements.define(ElementTheming.is, ElementTheming);
  </script>
</dom-module>
